[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "KAIST MFE, 2025 Spring",
    "section": "",
    "text": "Welcome!\nì•ˆë…•í•˜ì„¸ìš”, KAIST MFE 25ë…„ ë´„í•™ê¸°ì— ì´ìˆ˜í•œ ê³¼ëª©ì˜ ê³¼ì œ ë“±ì„ ì •ë¦¬í•´ë‘ì—ˆìŠµë‹ˆë‹¤.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°1.html",
    "href": "ë¹…ë°ì´í„°1.html",
    "title": "1Â  ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ CH1",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\n\n\nmissdict = {'f1': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n            'f2': [10., None, 20., 30., None, 50., 60., 70., 80., 90.],\n            'f3': ['A', 'A', 'A', 'A', 'B', 'B', 'B', 'B', 'C', 'C']}\nmissdata = pd.DataFrame( missdict )\nmissdata.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 10 entries, 0 to 9\nData columns (total 3 columns):\n #   Column  Non-Null Count  Dtype  \n---  ------  --------------  -----  \n 0   f1      10 non-null     int64  \n 1   f2      8 non-null      float64\n 2   f3      10 non-null     object \ndtypes: float64(1), int64(1), object(1)\nmemory usage: 368.0+ bytes\n\n\n\nmissdata.isna().mean()\n\nf1    0.0\nf2    0.2\nf3    0.0\ndtype: float64\n\n\n\ntmpdata1 = missdata.dropna()\ntmpdata1\n\n\n\n\n\n\n\n\n\nf1\nf2\nf3\n\n\n\n\n0\n1\n10.0\nA\n\n\n2\n3\n20.0\nA\n\n\n3\n4\n30.0\nA\n\n\n5\n6\n50.0\nB\n\n\n6\n7\n60.0\nB\n\n\n7\n8\n70.0\nB\n\n\n8\n9\n80.0\nC\n\n\n9\n10\n90.0\nC\n\n\n\n\n\n\n\n\n\ntmpdata2 = missdata.dropna( subset=['f3'] )\ntmpdata2\n\n\n\n\n\n\n\n\n\nf1\nf2\nf3\n\n\n\n\n0\n1\n10.0\nA\n\n\n1\n2\nNaN\nA\n\n\n2\n3\n20.0\nA\n\n\n3\n4\n30.0\nA\n\n\n4\n5\nNaN\nB\n\n\n5\n6\n50.0\nB\n\n\n6\n7\n60.0\nB\n\n\n7\n8\n70.0\nB\n\n\n8\n9\n80.0\nC\n\n\n9\n10\n90.0\nC\n\n\n\n\n\n\n\n\n\nnumdata = missdata.select_dtypes(include=['int64', 'float64'])\ntmpdata3 = numdata.fillna( -999, inplace=False )\ntmpdata3.describe()\n\n\n\n\n\n\n\n\n\nf1\nf2\n\n\n\n\ncount\n10.00000\n10.000000\n\n\nmean\n5.50000\n-158.800000\n\n\nstd\n3.02765\n443.562297\n\n\nmin\n1.00000\n-999.000000\n\n\n25%\n3.25000\n12.500000\n\n\n50%\n5.50000\n40.000000\n\n\n75%\n7.75000\n67.500000\n\n\nmax\n10.00000\n90.000000\n\n\n\n\n\n\n\n\n\nnumdata.mean()\n\nf1     5.50\nf2    51.25\ndtype: float64\n\n\n\ntmpdata4 = numdata.fillna( numdata.mean(), inplace=False )\ntmpdata4\n\n\n\n\n\n\n\n\n\nf1\nf2\n\n\n\n\n0\n1\n10.00\n\n\n1\n2\n51.25\n\n\n2\n3\n20.00\n\n\n3\n4\n30.00\n\n\n4\n5\n51.25\n\n\n5\n6\n50.00\n\n\n6\n7\n60.00\n\n\n7\n8\n70.00\n\n\n8\n9\n80.00\n\n\n9\n10\n90.00\n\n\n\n\n\n\n\n\n\nmissdata.groupby('f3')['f2'].mean()\n\nf3\nA    20.0\nB    60.0\nC    85.0\nName: f2, dtype: float64\n\n\n\nmissdata.groupby('f3')['f2'].transform('mean')\n\n0    20.0\n1    20.0\n2    20.0\n3    20.0\n4    60.0\n5    60.0\n6    60.0\n7    60.0\n8    85.0\n9    85.0\nName: f2, dtype: float64\n\n\n\ntmpdata5 = numdata.copy()\ntmpdata5['f2'].fillna( missdata.groupby('f3')['f2'].transform('mean'), inplace=True)\ntmpdata5\n\n/var/folders/n2/jbh_0_091bx8qgz7j87t2qwc0000gp/T/ipykernel_25894/622840210.py:2: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.\nThe behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.\n\nFor example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.\n\n\n  tmpdata5['f2'].fillna( missdata.groupby('f3')['f2'].transform('mean'),inplace=True)\n\n\n\n\n\n\n\n\n\n\nf1\nf2\n\n\n\n\n0\n1\n10.0\n\n\n1\n2\n20.0\n\n\n2\n3\n20.0\n\n\n3\n4\n30.0\n\n\n4\n5\n60.0\n\n\n5\n6\n50.0\n\n\n6\n7\n60.0\n\n\n7\n8\n70.0\n\n\n8\n9\n80.0\n\n\n9\n10\n90.0\n\n\n\n\n\n\n\n\n\nmissdata_tr = missdata.dropna()\nx_tr = missdata_tr[['f1']]\ny_tr = missdata_tr['f2']\n\nfrom sklearn.linear_model import LinearRegression\nmodel = LinearRegression()\nmodel.fit( x_tr, y_tr )\n\nmissdata_ts = missdata [ missdata.isnull().any(axis=1) ]\nx_ts = missdata_ts[['f1']]\n\npredicted_values = model.predict( x_ts )\ntmpdata6 = missdata.copy()\ntmpdata6.loc[ tmpdata6['f2'].isnull(), 'f2'] = predicted_values\ntmpdata6\n\n\n\n\n\n\n\n\n\nf1\nf2\nf3\n\n\n\n\n0\n1\n10.000000\nA\n\n\n1\n2\n14.191176\nA\n\n\n2\n3\n20.000000\nA\n\n\n3\n4\n30.000000\nA\n\n\n4\n5\n41.985294\nB\n\n\n5\n6\n50.000000\nB\n\n\n6\n7\n60.000000\nB\n\n\n7\n8\n70.000000\nB\n\n\n8\n9\n80.000000\nC\n\n\n9\n10\n90.000000\nC\n\n\n\n\n\n\n\n\n\nmissdata_num = missdata.copy()\nmissdata_num['f3']=missdata_num['f3'].map({'A':1,'B':2,'C':3})\n\n\nmissdata_num\n\n\n\n\n\n\n\n\n\nf1\nf2\nf3\n\n\n\n\n0\n1\n10.0\n1\n\n\n1\n2\nNaN\n1\n\n\n2\n3\n20.0\n1\n\n\n3\n4\n30.0\n1\n\n\n4\n5\nNaN\n2\n\n\n5\n6\n50.0\n2\n\n\n6\n7\n60.0\n2\n\n\n7\n8\n70.0\n2\n\n\n8\n9\n80.0\n3\n\n\n9\n10\n90.0\n3\n\n\n\n\n\n\n\n\n\nfrom sklearn.impute import KNNImputer\nimputer = KNNImputer(n_neighbors=2)\ntmpdata7 = imputer.fit_transform(missdata_num)\n\n\npd.DataFrame( tmpdata7 )\n\n\n\n\n\n\n\n\n\n0\n1\n2\n\n\n\n\n0\n1.0\n10.0\n1.0\n\n\n1\n2.0\n15.0\n1.0\n\n\n2\n3.0\n20.0\n1.0\n\n\n3\n4.0\n30.0\n1.0\n\n\n4\n5.0\n40.0\n2.0\n\n\n5\n6.0\n50.0\n2.0\n\n\n6\n7.0\n60.0\n2.0\n\n\n7\n8.0\n70.0\n2.0\n\n\n8\n9.0\n80.0\n3.0\n\n\n9\n10.0\n90.0\n3.0\n\n\n\n\n\n\n\n\n\noutdict = {'A': [10, 0.02, 0.3, 40, 50, 60, 712, 80, 90, 1003],\n           'B': [0.05, 0.00015, 25, 35, 45, 205, 65, 75, 85, 3905]}\noutdata = pd.DataFrame( outdict )\n\nQ1 = outdata.quantile(0.25)\nQ3 = outdata.quantile(0.75)\nIQR = Q3 - Q1\nlower_bound = Q1 - 1.5 * IQR\nupper_bound = Q3 + 1.5 * IQR\n\n((outdata &lt; lower_bound) | (outdata &gt; upper_bound))\n\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n0\nFalse\nFalse\n\n\n1\nFalse\nFalse\n\n\n2\nFalse\nFalse\n\n\n3\nFalse\nFalse\n\n\n4\nFalse\nFalse\n\n\n5\nFalse\nTrue\n\n\n6\nTrue\nFalse\n\n\n7\nFalse\nFalse\n\n\n8\nFalse\nFalse\n\n\n9\nTrue\nTrue\n\n\n\n\n\n\n\n\n\noutliers = ((outdata &lt; lower_bound) | (outdata &gt; upper_bound)).any(axis=1)\noutliersdata = outdata[ outliers ]\noutliersdata\n\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n5\n60.0\n205.0\n\n\n6\n712.0\n65.0\n\n\n9\n1003.0\n3905.0\n\n\n\n\n\n\n\n\n\nstandardizeddata = (outdata - outdata.mean()) / outdata.std()\nstandardizeddata\n\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n0\n-0.552206\n-0.364647\n\n\n1\n-0.580536\n-0.364688\n\n\n2\n-0.579741\n-0.344154\n\n\n3\n-0.467047\n-0.335940\n\n\n4\n-0.438661\n-0.327727\n\n\n5\n-0.410274\n-0.196309\n\n\n6\n1.440519\n-0.311300\n\n\n7\n-0.353501\n-0.303086\n\n\n8\n-0.325115\n-0.294872\n\n\n9\n2.266563\n2.842723\n\n\n\n\n\n\n\n\n\noutliers2 = ((standardizeddata &lt; -3) | (standardizeddata &gt; 3)).any(axis=1)\noutliersdata2 = outdata[ outliers2 ]\noutliersdata2\n\n\n\n\n\n\n\n\n\nA\nB\n\n\n\n\n\n\n\n\n\n\n\nimport matplotlib.pyplot as plt\nnp.random.seed(42)\nX_inliers = 0.3 * np.random.randn(100, 2)\nX_outliers = np.random.uniform(low=-4, high=4, size=(20, 2))\nX = np.r_[X_inliers + 2, X_inliers - 2, X_outliers]\n\nplt.figure(figsize=(5, 4))\nplt.scatter(X[:, 0], X[:, 1], color='k', s=20)\n\n\n\n\n\n\n\n\n\nfrom sklearn.neighbors import LocalOutlierFactor\nclf = LocalOutlierFactor(n_neighbors=20, contamination=0.1)\ny_pred = clf.fit_predict(X) # 1: inlier, -1: outlier\noutlier_mask = y_pred == -1\n\nplt.figure(figsize=(5, 4))\nplt.scatter(X[:, 0], X[:, 1], color='b', s=20, label='Inliers')\nplt.scatter(X[outlier_mask, 0], X[outlier_mask, 1], color='r', s=50,label='Outliers')\nplt.xlabel(\"Feature 1\")\nplt.ylabel(\"Feature 2\")\nplt.legend()\n\n\n\n\n\n\n\n\n\nfrom sklearn.ensemble import IsolationForest\nclf2 = IsolationForest(contamination=0.1)\n# contamination : ì´ìƒì¹˜ ë¹„ìœ¨\n# n_estimators : ë‚˜ë¬´ì˜ ê°¯ìˆ˜ (defalut 100)\n# max_features : ê° ë‚˜ë¬´ë³„ íŠ¹ì„±ë³€ìˆ˜ì˜ ê°¯ìˆ˜(default 1)\nclf2.fit( X )\ny_pred2 = clf2.predict( X ) # 1: inlier, -1: outlier\noutlier_mask2 = y_pred2 == -1\n\nplt.figure(figsize=(5, 4))\nplt.scatter(X[:, 0], X[:, 1], color='b', s=20, label='Inliers')\nplt.scatter(X[outlier_mask2, 0], X[outlier_mask2, 1], color='r', s=50,label='Outliers')\nplt.xlabel(\"Feature 1\")\nplt.ylabel(\"Feature 2\")\nplt.legend()\n\n\n\n\n\n\n\n\n\nclf2.score_samples(X)\n\narray([-0.39567479, -0.43973362, -0.38576701, -0.4625295 , -0.39169087,\n       -0.39353101, -0.44632054, -0.4539587 , -0.39410011, -0.42823486,\n       -0.43802322, -0.4231585 , -0.38600184, -0.40324911, -0.38778406,\n       -0.46849881, -0.4075734 , -0.43420431, -0.45140279, -0.4113938 ,\n       -0.40036102, -0.38335266, -0.42666089, -0.41104579, -0.44476313,\n       -0.38744281, -0.39942914, -0.44257912, -0.38938554, -0.40470075,\n       -0.39006555, -0.42881353, -0.44275864, -0.40154039, -0.39729665,\n       -0.42434279, -0.42743206, -0.57699503, -0.38628797, -0.45454533,\n       -0.3864026 , -0.44513991, -0.39598029, -0.41231495, -0.39270763,\n       -0.40568073, -0.39005843, -0.43210962, -0.38601781, -0.38485125,\n       -0.41991455, -0.40181793, -0.38788591, -0.48400217, -0.38538727,\n       -0.47693547, -0.50815903, -0.39115267, -0.40423505, -0.43216634,\n       -0.4254748 , -0.48475901, -0.4890737 , -0.40357175, -0.39439224,\n       -0.42406868, -0.40171635, -0.44870204, -0.38761922, -0.43170548,\n       -0.42364173, -0.43593615, -0.39560581, -0.4391784 , -0.39543452,\n       -0.38550106, -0.38910014, -0.39558501, -0.48693408, -0.41865632,\n       -0.40964165, -0.43730378, -0.41716448, -0.47893783, -0.39791987,\n       -0.40492088, -0.38431516, -0.39544321, -0.42208103, -0.53522817,\n       -0.41839783, -0.40171635, -0.39362168, -0.39333773, -0.44128807,\n       -0.40208128, -0.40907841, -0.39096216, -0.38929625, -0.40645206,\n       -0.38953796, -0.43147334, -0.38691831, -0.45292849, -0.39365031,\n       -0.40064735, -0.46513506, -0.48209563, -0.39635657, -0.44569517,\n       -0.4496465 , -0.43243444, -0.39406682, -0.40625773, -0.39826724,\n       -0.46462545, -0.40782229, -0.42572527, -0.46599338, -0.42852596,\n       -0.40082304, -0.38971614, -0.4628486 , -0.4219109 , -0.46365237,\n       -0.39237271, -0.40320941, -0.42432754, -0.40309339, -0.40204058,\n       -0.39044555, -0.43501511, -0.4324525 , -0.40503508, -0.40259674,\n       -0.42956023, -0.42799201, -0.56257644, -0.38875652, -0.47585014,\n       -0.3835507 , -0.4556408 , -0.406217  , -0.40385118, -0.39458774,\n       -0.40122018, -0.40401747, -0.4443972 , -0.38320086, -0.3834212 ,\n       -0.44945534, -0.4060406 , -0.38476589, -0.46817324, -0.38466101,\n       -0.47610349, -0.49275615, -0.38344594, -0.40974845, -0.42395885,\n       -0.42189161, -0.49261883, -0.48518689, -0.40901991, -0.39452123,\n       -0.44785724, -0.40375287, -0.45749968, -0.40496115, -0.4260838 ,\n       -0.41810669, -0.44560803, -0.38806155, -0.45523273, -0.38817405,\n       -0.38177641, -0.39724261, -0.40279204, -0.46677259, -0.42162856,\n       -0.4086809 , -0.43961327, -0.40404401, -0.45862325, -0.40473907,\n       -0.41509113, -0.38081908, -0.39036169, -0.42441162, -0.52130968,\n       -0.41557892, -0.40347146, -0.39318444, -0.38921027, -0.46342999,\n       -0.39756969, -0.41357841, -0.38429305, -0.40297782, -0.40881293,\n       -0.60259641, -0.44411547, -0.57052254, -0.50247903, -0.73212838,\n       -0.64786135, -0.55623141, -0.45375541, -0.68754218, -0.67833274,\n       -0.70698798, -0.63422967, -0.64031155, -0.78183101, -0.65477657,\n       -0.67178443, -0.67084008, -0.68580391, -0.71446705, -0.64861428])",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ CH1</span>"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_ê³¼ì œ.html",
    "href": "ë¹…ë°ì´í„°_ê³¼ì œ.html",
    "title": "2Â  ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ",
    "section": "",
    "text": "2.1 Question 1",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ</span>"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-1",
    "href": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-1",
    "title": "2Â  ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ",
    "section": "",
    "text": "2.1.1 (1)\nì£¼ì–´ì§„ ìë£Œ ì¤‘ ë²”ì£¼í˜• ë³€ìˆ˜ ê°ê°ì— ëŒ€í•´ ì ì ˆí•œ ì „ì²˜ë¦¬ë¥¼ ì„ íƒí•˜ê³  ì§„í–‰í•˜ì—¬ë¼.\n\nimport numpy as np\nimport pandas as pd\n\nbank = pd.read_csv('data/prob1_bank.csv')\nbank.info() # ì „ì²´ 11ê°œ ì¹¼ëŸ¼ì— nullê°’ì€ ì—†ìœ¼ë©°, ë²”ì£¼í˜• 9ê°œ ë° ìˆ«ìí˜• 2ê°œ\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 4521 entries, 0 to 4520\nData columns (total 11 columns):\n #   Column     Non-Null Count  Dtype \n---  ------     --------------  ----- \n 0   age        4521 non-null   int64 \n 1   job        4521 non-null   object\n 2   marital    4521 non-null   object\n 3   education  4521 non-null   object\n 4   default    4521 non-null   object\n 5   balance    4521 non-null   int64 \n 6   housing    4521 non-null   object\n 7   loan       4521 non-null   object\n 8   contact    4521 non-null   object\n 9   month      4521 non-null   object\n 10  y          4521 non-null   object\ndtypes: int64(2), object(9)\nmemory usage: 388.6+ KB\n\n\n\nbank.select_dtypes(include='object').nunique()\n# ë²”ì£¼í˜• 9ê°œ ì¤‘, ëª©ì ë³€ìˆ˜ë¥¼ í¬í•¨í•˜ì—¬ 4ê°œëŠ” 'ì—¬ë¶€'ì— ëŒ€í•œ ì´ì§„ë³€ìˆ˜ì´ë©° ë‚˜ë¨¸ì§€ëŠ” 3~12ê°œì˜ ê³ ìœ ê°’\n\njob          12\nmarital       3\neducation     4\ndefault       2\nhousing       2\nloan          2\ncontact       3\nmonth        12\ny             2\ndtype: int64\n\n\n\nbank['job'].value_counts()\n# ì§ì—…ì˜ ê²½ìš°, 12ê°œì˜ ë²”ì£¼ë¡œ êµ¬ì„±ë¨. íŠ¹ë³„íˆ í•œ ê°’ì— ì¹˜ì¤‘ë˜ëŠ” ëª¨ìŠµë„ ë³´ì´ì§€ ì•Šê³ ,\n# ìˆœì„œê°€ ì—†ìœ¼ë¯€ë¡œ ì›-í•« ì¸ì½”ë”©ìœ¼ë¡œ ì²˜ë¦¬ ì˜ˆì •\n\njob\nmanagement       969\nblue-collar      946\ntechnician       768\nadmin.           478\nservices         417\nretired          230\nself-employed    183\nentrepreneur     168\nunemployed       128\nhousemaid        112\nstudent           84\nunknown           38\nName: count, dtype: int64\n\n\n\nbank['marital'].value_counts()\n# ê²°í˜¼ ì—¬ë¶€ëŠ” ì‹±ê¸€/ê²°í˜¼/ì´í˜¼ 3ì§„ë³€ìˆ˜ì„. ìˆœì„œê°€ ì—†ìœ¼ë¯€ë¡œ ì›-í•« ì¸ì½”ë”©ìœ¼ë¡œ ì²˜ë¦¬ ì˜ˆì •\n\nmarital\nmarried     2797\nsingle      1196\ndivorced     528\nName: count, dtype: int64\n\n\n\nbank['education'].value_counts()\n# í•™ë ¥ì— ëŒ€í•œ ë‚´ìš©ì€ primary - secondary - tertiary ìˆœì´ë¯€ë¡œ 1~3 ë¼ë²¨ì¸ì½”ë”© ì²˜ë¦¬ ì˜ˆì •\n# unknownì€ í•™ë ¥ìˆ˜ì¤€ì´ ë‚®ì„ ê°€ëŠ¥ì„±ì´ ë†’ì„ ê²ƒìœ¼ë¡œ ì¶”ì •, 0ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ í•˜ë‚˜ì˜ ì‘ë‹µê°’ìœ¼ë¡œ ê°„ì£¼í•¨.\n\neducation\nsecondary    2306\ntertiary     1350\nprimary       678\nunknown       187\nName: count, dtype: int64\n\n\n\nbank['contact'].value_counts()\n# ì—°ë½ë°©ë²•ì— ëŒ€í•œ ë‚´ìš©ì€ telephone - cellular ìˆœìœ¼ë¡œ ì—°ë½ì´ í¸ë¦¬í•˜ë¯€ë¡œ 1~2 ë¼ë²¨ì¸ì½”ë”© ì²˜ë¦¬ ì˜ˆì •\n# unknownì€ ì—°ë½ í¸ì˜ì„±ì´ ê°€ì¥ ë–¨ì–´ì§ˆ ê²ƒìœ¼ë¡œ ë³´ì„. 0ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë¼ë²¨ì¸ì½”ë”© ì²˜ë¦¬ ì˜ˆì •\n\ncontact\ncellular     2896\nunknown      1324\ntelephone     301\nName: count, dtype: int64\n\n\n\nbank['month'].value_counts()\n# ë‹¬ì— ëŒ€í•œ ë‚´ìš©ìœ¼ë¡œ, 1~12ê°œì›” ìˆœì„œì— ë”°ë¥¸ ë¼ë²¨ì¸ì½”ë”© ì²˜ë¦¬ ì˜ˆì •\n\nmonth\nmay    1398\njul     706\naug     633\njun     531\nnov     389\napr     293\nfeb     222\njan     148\noct      80\nsep      52\nmar      49\ndec      20\nName: count, dtype: int64\n\n\n\n# ë²”ì£¼í˜• ë³€ìˆ˜ ì²˜ë¦¬\n\n# 1. job, marital -&gt; One-Hot Encoding\nbank = pd.get_dummies(bank, columns=['job', 'marital'], drop_first=True)\n\n# 2. education, contact, month &gt; Label Encoding\nedu_map = {'unknown': 0,'primary': 1,'secondary': 2,'tertiary': 3}\nbank['education'] = bank['education'].map(edu_map)\n\ncontact_map = {'unknown': 0,'telephone': 1,'cellular': 2}\nbank['contact'] = bank['contact'].map(contact_map)\n\nmonth_order = ['jan', 'feb', 'mar', 'apr', 'may', 'jun',\n               'jul', 'aug', 'sep', 'oct', 'nov', 'dec']\nmonth_map = {month: i for i, month in enumerate(month_order)}\nbank['month'] = bank['month'].map(month_map)\n\n# 3. default, housing, loan, y &gt; Label Encoding (binary, yes=1 / no=0)\nbinary_cols = ['default', 'housing', 'loan', 'y']\nfor col in binary_cols: bank[col] = bank[col].map({'yes': 1, 'no': 0})\n\nprint(bank.info())\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 4521 entries, 0 to 4520\nData columns (total 22 columns):\n #   Column             Non-Null Count  Dtype\n---  ------             --------------  -----\n 0   age                4521 non-null   int64\n 1   education          4521 non-null   int64\n 2   default            4521 non-null   int64\n 3   balance            4521 non-null   int64\n 4   housing            4521 non-null   int64\n 5   loan               4521 non-null   int64\n 6   contact            4521 non-null   int64\n 7   month              4521 non-null   int64\n 8   y                  4521 non-null   int64\n 9   job_blue-collar    4521 non-null   bool \n 10  job_entrepreneur   4521 non-null   bool \n 11  job_housemaid      4521 non-null   bool \n 12  job_management     4521 non-null   bool \n 13  job_retired        4521 non-null   bool \n 14  job_self-employed  4521 non-null   bool \n 15  job_services       4521 non-null   bool \n 16  job_student        4521 non-null   bool \n 17  job_technician     4521 non-null   bool \n 18  job_unemployed     4521 non-null   bool \n 19  job_unknown        4521 non-null   bool \n 20  marital_married    4521 non-null   bool \n 21  marital_single     4521 non-null   bool \ndtypes: bool(13), int64(9)\nmemory usage: 375.4 KB\nNone\n\n\n\n\n2.1.2 (2)\nì£¼ì–´ì§„ ìë£Œ ì¤‘ ìˆ˜ì¹˜í˜• ë³€ìˆ˜ ê°ê°ì— ëŒ€í•´ ì ì ˆí•œ ì „ì²˜ë¦¬ë¥¼ ì„ íƒí•˜ê³  ì§„í–‰í•˜ì—¬ë¼.\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# 1. age ë¶„í¬\nplt.figure(figsize=(10, 4))\nsns.histplot(bank['age'], bins=30, kde=True)\nplt.title(\"Distribution of Age\")\nplt.xlabel(\"Age\")\nplt.ylabel(\"Count\")\nplt.tight_layout()\nplt.show()\n\n# 2. balance ë¶„í¬\nplt.figure(figsize=(10, 4))\nsns.histplot(bank['balance'], bins=30, kde=True)\nplt.title(\"Distribution of Balance\")\nplt.xlabel(\"Balance\")\nplt.ylabel(\"Count\")\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbank['age'].describe()\n# ageëŠ” ì˜¤ë¥¸ìª½ skewê°€ ë¯¸ì„¸í•˜ê²Œ ìˆëŠ” ì •ê·œë¶„í¬ì™€ ê°€ê¹Œìš´ í˜•íƒœ. í‘œì¤€í™”ë§Œ ì§„í–‰\n\ncount    4521.000000\nmean       41.170095\nstd        10.576211\nmin        19.000000\n25%        33.000000\n50%        39.000000\n75%        49.000000\nmax        87.000000\nName: age, dtype: float64\n\n\n\nbank['balance'].describe()\n# balanceëŠ” ìŒìˆ˜ë„ ì¡´ì¬í•˜ê³ , ê°’ì´ ë§¤ìš° ê·¹ë‹¨ì ìœ¼ë¡œ ì¹˜ìš°ì³ì ¸ ìˆëŠ” í˜•íƒœ. logë³€í™˜ ë° í‘œì¤€í™” ì§„í–‰\n# ì´í›„ LOF ë°©ì‹ìœ¼ë¡œ ë‘ ìˆ˜ì¹˜í˜•ë³€ìˆ˜ì— ëŒ€í•œ ì´ìƒì¹˜ íƒì§€, ì•½ 1% ìˆ˜ì¤€ì˜ ì´ìƒì¹˜ ì œê±° ì˜ˆì •\n\ncount     4521.000000\nmean      1422.657819\nstd       3009.638142\nmin      -3313.000000\n25%         69.000000\n50%        444.000000\n75%       1480.000000\nmax      71188.000000\nName: balance, dtype: float64\n\n\n\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.neighbors import LocalOutlierFactor\nimport numpy as np\n\n# 1. balance ë¡œê·¸ë³€í™˜ (ìŒìˆ˜ ëŒ€ë¹„)\nmin_bal = bank['balance'].min()\nbank['log_balance'] = np.log1p(bank['balance'] - min_bal + 1)\n\n# 2. balance + age í‘œì¤€í™”\nscaler = StandardScaler()\nbank[['std_log_balance', 'std_age']] = scaler.fit_transform(bank[['log_balance', 'age']])\n\n# 3. LOF ì´ìƒì¹˜ íƒì§€ (ë‹¤ë³€ëŸ‰: log_balance + age)\n# ì ì ˆí•œ íŒŒë¼ë¯¸í„° ì¡°ì •ìœ¼ë¡œ balanceì˜ ìµœì†Œ, ìµœëŒ€ê°’ì„ íš¨ê³¼ì ìœ¼ë¡œ ì œê±°\nX_scaled = bank[['std_log_balance', 'std_age']]\nlof = LocalOutlierFactor(n_neighbors=30, contamination=0.01)\nbank['is_outlier'] = (lof.fit_predict(X_scaled) == -1).astype(int)\n\n# 4. ì´ìƒì¹˜ ì‹œê°í™” (scatter plot)\nplt.figure(figsize=(10, 6))\nsns.scatterplot(data=bank, x='std_log_balance', y='std_age',\n                hue='is_outlier', palette='Set1', alpha=0.7)\nplt.title(\"Scatter Plot of Standardized Log Balance vs. Age\\n(LOF Outlier Detection)\")\nplt.xlabel(\"Standardized Log Balance\")\nplt.ylabel(\"Standardized Age\")\nplt.legend(title=\"Outlier\")\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n# ì´ìƒì¹˜ 1%ê°€ ì œê±°ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ\nbank_clean = bank[bank['is_outlier'] == 0].copy()\nbank_clean\n\n\n\n\n\n\n\n\n\nage\neducation\ndefault\nbalance\nhousing\nloan\ncontact\nmonth\ny\njob_blue-collar\n...\njob_student\njob_technician\njob_unemployed\njob_unknown\nmarital_married\nmarital_single\nlog_balance\nstd_log_balance\nstd_age\nis_outlier\n\n\n\n\n0\n30\n1\n0\n1787\n0\n0\n2\n9\n0\nFalse\n...\nFalse\nFalse\nTrue\nFalse\nTrue\nFalse\n8.537388\n0.431049\n-1.056270\n0\n\n\n1\n33\n2\n0\n4789\n1\n1\n2\n4\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nTrue\nFalse\n9.000113\n1.608188\n-0.772583\n0\n\n\n2\n35\n3\n0\n1350\n1\n0\n2\n3\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nFalse\nTrue\n8.447843\n0.203253\n-0.583458\n0\n\n\n3\n30\n3\n0\n1476\n1\n1\n0\n5\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nTrue\nFalse\n8.474494\n0.271052\n-1.056270\n0\n\n\n4\n59\n2\n0\n0\n1\n0\n0\n4\n0\nTrue\n...\nFalse\nFalse\nFalse\nFalse\nTrue\nFalse\n8.106213\n-0.665829\n1.686036\n0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n4515\n32\n2\n0\n473\n1\n0\n2\n6\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nFalse\nTrue\n8.239593\n-0.326519\n-0.867145\n0\n\n\n4516\n33\n2\n0\n-333\n1\n0\n2\n6\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nTrue\nFalse\n8.000349\n-0.935138\n-0.772583\n0\n\n\n4518\n57\n2\n0\n295\n0\n0\n2\n7\n0\nFalse\n...\nFalse\nTrue\nFalse\nFalse\nTrue\nFalse\n8.191463\n-0.448959\n1.496912\n0\n\n\n4519\n28\n2\n0\n1137\n0\n0\n2\n1\n0\nTrue\n...\nFalse\nFalse\nFalse\nFalse\nTrue\nFalse\n8.401109\n0.084364\n-1.245394\n0\n\n\n4520\n44\n3\n0\n1136\n1\n1\n2\n3\n0\nFalse\n...\nFalse\nFalse\nFalse\nFalse\nFalse\nTrue\n8.400884\n0.083793\n0.267602\n0\n\n\n\n\n4475 rows Ã— 26 columns\n\n\n\n\n\n\n2.1.3 (3)\nì£¼ì–´ì§„ ìë£Œì— í´ë˜ìŠ¤ ë¶ˆê· í˜•ì´ ìˆëŠ”ì§€ í™•ì¸í•œ ë’¤, ì´ì— ëŒ€í•œ ì ì ˆí•œ ì „ì²˜ë¦¬ ë°©ë²•ì„ ì„ íƒí•˜ì—¬ ì§„í–‰í•˜ì—¬ë¼.\n\n# ì•½ 9:1ë¡œ 0(No)ì˜ ë¹„ìœ¨ì´ ì••ë„ì ìœ¼ë¡œ ë§ìŒ. í´ë˜ìŠ¤ë¶ˆê· í˜• ì¡´ì¬\n\nclass_counts = bank_clean['y'].value_counts(normalize=True)\nplt.figure(figsize=(6, 4))\nsns.barplot(x=class_counts.index, y=class_counts.values, legend=False)\nplt.title(\"Class Imbalance\")\nplt.xlabel(\"y\")\nplt.ylim(0, 1)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n# ìˆ˜ì¹˜í˜• ë³€ìˆ˜ì˜ scatter plotìƒìœ¼ë¡œ íŠ¹ì • ìˆ˜ì¹˜í˜• ë³€ìˆ˜ì— ë”°ë¥¸ ì¹˜ìš°ì¹¨ì€ ê´€ì¸¡ë˜ì§€ ì•ŠìŒ.\n\nX = bank_clean[['std_log_balance','std_age']]\ny = bank_clean['y']\nplt.figure(figsize=(10, 6))\nplt.plot(X.loc[y == 0, 'std_log_balance'], X.loc[y == 0, 'std_age'], 'b+', label=\"class 0\")\nplt.plot(X.loc[y == 1, 'std_log_balance'], X.loc[y == 1, 'std_age'], 'r*', label=\"class 1\")\nplt.legend()\nplt.xlabel(\"std_log_balance\")\nplt.ylabel(\"std_age\")\nplt.title(\"Scatter Plot by Class (y)\")\nplt.show()\n\n\n\n\n\n\n\n\n\n# í‘œë³¸ì˜ ìˆ˜ê°€ ì ì€ í¸ì´ë¯€ë¡œ oversampling ì§„í–‰\n# ë°ì´í„°ì˜ êµ¬ì¡°ê°€ ê·¸ë‹¤ì§€ ë³µì¡í•˜ì§€ ì•Šì•„ SMOTE ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ ì²˜ë¦¬\nfrom imblearn.over_sampling import SMOTE\n\noversample1 = SMOTE()\nOX, Oy = oversample1.fit_resample(X, y)\nplt.figure(figsize=(10, 6))\nplt.plot(OX.loc[Oy == 0, 'std_log_balance'], OX.loc[Oy == 0, 'std_age'], 'b+', label=\"class 0\")\nplt.plot(OX.loc[Oy == 1, 'std_log_balance'], OX.loc[Oy == 1, 'std_age'], 'r*', label=\"class 1\")\nplt.legend()\nplt.xlabel(\"std_log_balance\")\nplt.ylabel(\"std_age\")\nplt.title(\"Scatter Plot by Class (y)\\n After Oversampling using SMOTE\")\nplt.show()",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ</span>"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-2",
    "href": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-2",
    "title": "2Â  ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ",
    "section": "2.2 Question 2",
    "text": "2.2 Question 2\n\n\n\n\n\n\n2.2.1 (1)\nì£¼ì–´ì§„ ìë£Œì— Kí‰ê·  Clustering ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬, ì ì ˆí•œ êµ°ì§‘ì„ ìƒì„±í•˜ì—¬ë¼.\n\ndf = pd.read_csv('data/prob2_card.csv')\ndf.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 8950 entries, 0 to 8949\nData columns (total 6 columns):\n #   Column               Non-Null Count  Dtype  \n---  ------               --------------  -----  \n 0   CUST_ID              8950 non-null   object \n 1   BALANCE              8950 non-null   float64\n 2   BALANCE_FREQUENCY    8950 non-null   float64\n 3   PURCHASES            8950 non-null   float64\n 4   PURCHASES_FREQUENCY  8950 non-null   float64\n 5   PURCHASES_TRX        8950 non-null   int64  \ndtypes: float64(4), int64(1), object(1)\nmemory usage: 419.7+ KB\n\n\n\ndf.describe()\n\n\n\n\n\n\n\n\n\nBALANCE\nBALANCE_FREQUENCY\nPURCHASES\nPURCHASES_FREQUENCY\nPURCHASES_TRX\n\n\n\n\ncount\n8950.000000\n8950.000000\n8950.000000\n8950.000000\n8950.000000\n\n\nmean\n1564.474828\n0.877271\n1003.204834\n0.490351\n14.709832\n\n\nstd\n2081.531879\n0.236904\n2136.634782\n0.401371\n24.857649\n\n\nmin\n0.000000\n0.000000\n0.000000\n0.000000\n0.000000\n\n\n25%\n128.281915\n0.888889\n39.635000\n0.083333\n1.000000\n\n\n50%\n873.385231\n1.000000\n361.280000\n0.500000\n7.000000\n\n\n75%\n2054.140036\n1.000000\n1110.130000\n0.916667\n17.000000\n\n\nmax\n19043.138560\n1.000000\n49039.570000\n1.000000\n358.000000\n\n\n\n\n\n\n\n\n\nfrom sklearn.cluster import KMeans\nfrom sklearn.metrics import silhouette_score\n\n# CUST_IDëŠ” í´ëŸ¬ìŠ¤í„°ë§ì— ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì œê±°\nX = df.drop(columns=[\"CUST_ID\"])\n\n# í‘œì¤€í™”\nscaler = StandardScaler()\nX_scaled = scaler.fit_transform(X)\nscaled_df = pd.DataFrame(X_scaled, columns=X.columns)\n\n# ìµœì  K íƒìƒ‰\ninertia_list = []\nsilhouette_list = []\nK_range = range(2, 11)\n\nfor k in K_range:\n    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)\n    labels = kmeans.fit_predict(X_scaled)\n    inertia_list.append(kmeans.inertia_)\n    silhouette_list.append(silhouette_score(X_scaled, labels))\n\nbest_k = K_range[silhouette_list.index(max(silhouette_list))]\n\n# Kí‰ê·  êµ°ì§‘í™” ê²°ê³¼ : 6ê°œì˜ êµ°ì§‘ìœ¼ë¡œ ë¶„ë¥˜ë˜ì—ˆìœ¼ë©°, ê°¯ìˆ˜ëŠ” 32ê°œ~3200ê°œë¡œ ì²œì°¨ë§Œë³„\nkmeans_final = KMeans(n_clusters=best_k, random_state=42, n_init=10)\nscaled_df[\"KMeans_Label\"] = kmeans_final.fit_predict(X_scaled)\n\nsummary_table_kmean = scaled_df.groupby(\"KMeans_Label\").mean()\nsummary_table_kmean[\"Count\"] = scaled_df.groupby(\"KMeans_Label\").size()\nsummary_table_kmean\n\n\n\n\n\n\n\n\n\nBALANCE\nBALANCE_FREQUENCY\nPURCHASES\nPURCHASES_FREQUENCY\nPURCHASES_TRX\nCount\n\n\nKMeans_Label\n\n\n\n\n\n\n\n\n\n\n0\n-0.679901\n-2.105347\n-0.305189\n-0.528487\n-0.414547\n1390\n\n\n1\n1.906921\n0.444930\n10.782703\n1.119309\n5.892989\n32\n\n\n2\n-0.331950\n0.368356\n0.087095\n0.960328\n0.227857\n3253\n\n\n3\n-0.068576\n0.366930\n-0.369541\n-0.895659\n-0.502261\n2989\n\n\n4\n0.696282\n0.475045\n2.042474\n1.179006\n2.713984\n502\n\n\n5\n2.320551\n0.483046\n-0.159336\n-0.433551\n-0.273897\n784\n\n\n\n\n\n\n\n\n\n# Kí‰ê·  êµ°ì§‘í™” ì‹œê°í™”\nsummary_table_kmean.drop(columns=\"Count\").plot.bar(figsize=(12, 6))\nplt.title(\"Standardized Mean of Variables by KMeans Cluster\")\nplt.xlabel(\"Cluster Label\")\nplt.ylabel(\"Standardized Mean Value\")\nplt.tight_layout()\n\n\n\n\n\n\n\n\n\n\n2.2.2 (2)\nì£¼ì–´ì§„ ìë£Œì— DBSCAN Clustering ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬, ì ì ˆí•œ êµ°ì§‘ì„ ìƒì„±í•˜ì—¬ë¼.\n\nfrom sklearn.cluster import DBSCAN\n\n# DBSCAN ë¶„ë¥˜ : eps ë° min_samplesëŠ” ì—¬ëŸ¬ë²ˆ ë°˜ë³µì„ í†µí•´ ìµœì ì˜ ì¡°í•©ì„ ë„ì¶œí•˜ì˜€ìŒ.\n# ê¸°ì¤€ : ë¶„ë¥˜ê°€ ë„ˆë¬´ ë§ê±°ë‚˜ ì ì§€ ì•Šë„ë¡(3~6ê°œ), ë„ˆë¬´ ìˆ«ìê°€ ì ì€ ë¶„ë¥˜ê°€ ì—†ë„ë¡\ndbscan = DBSCAN(eps=0.6, min_samples=4)\nlabels = dbscan.fit_predict(X_scaled)\n\n# ë¼ë²¨ì„ ë°ì´í„°í”„ë ˆì„ì— ì¶”ê°€\nscaled_df[\"DBSCAN_Label\"] = labels\n\n# DBSCAN êµ°ì§‘í™” ê²°ê³¼ : ì¡ìŒ(-1)ì´ ì•½ 2% í¬í•¨ë˜ì–´ìˆìœ¼ë©°, ì´ 5ê°œì˜ êµ°ì§‘ìœ¼ë¡œ ë¶„ë¥˜(177ê°œ~6200ê°œ)\nsummary_table_db = scaled_df.drop(columns=\"KMeans_Label\").groupby(\"DBSCAN_Label\").mean()\nsummary_table_db[\"Count\"] = scaled_df.groupby(\"DBSCAN_Label\").size()\nsummary_table_db\n\n\n\n\n\n\n\n\n\nBALANCE\nBALANCE_FREQUENCY\nPURCHASES\nPURCHASES_FREQUENCY\nPURCHASES_TRX\nCount\n\n\nDBSCAN_Label\n\n\n\n\n\n\n\n\n\n\n-1\n1.776034\n0.211613\n3.221764\n0.832535\n2.823087\n261\n\n\n0\n-0.056781\n-0.007807\n-0.107234\n-0.028259\n-0.094781\n8657\n\n\n1\n-0.355658\n0.518084\n3.714917\n1.207553\n4.079060\n10\n\n\n2\n-0.397981\n-0.121515\n2.012334\n-0.148985\n-0.169367\n6\n\n\n3\n2.124764\n0.518084\n2.221881\n1.269843\n3.919140\n8\n\n\n4\n4.623668\n0.518084\n0.235086\n0.231676\n-0.199541\n4\n\n\n5\n-0.384296\n0.422144\n4.876114\n1.269843\n3.340815\n4\n\n\n\n\n\n\n\n\n\nsummary_table_db.drop(columns=\"Count\").plot.bar(figsize=(12, 6))\nplt.title(\"Standardized Mean of Variables by DBSCAN Cluster\")\nplt.xlabel(\"Cluster Label\")\nplt.ylabel(\"Standardized Mean Value\")\nplt.tight_layout()\n\n\n\n\n\n\n\n\n\n\n2.2.3 (3)\n(1)ê³¼ (2)ì˜ ë‘ êµ°ì§‘ ë¶„ì„ ê²°ê³¼ë¥¼ ë¹„êµí•˜ê³ , ë” íƒ€ë‹¹í•œ ëª¨ë¸ì„ ì„ íƒí•˜ì—¬ë¼.\nKí‰ê·  vs DBSCAN êµ°ì§‘í™” ê²°ê³¼ ë¹„êµ\n\n\n\ní•­ëª©\nKí‰ê· \nDBSCAN\n\n\n\n\ní´ëŸ¬ìŠ¤í„° ìˆ˜\n6ê°œ\n6ê°œ (-1 í¬í•¨)\n\n\ní´ëŸ¬ìŠ¤í„° êµ¬ì„±\nìµœì†Œ 32, ìµœëŒ€ 3253ëª…\nìµœì†Œ 4, ìµœëŒ€ 8657\n\n\nì´ìƒì¹˜ ì²˜ë¦¬\nì—†ìŒ\n-1ë¡œ 261ëª… ì²˜ë¦¬\n\n\nêµ°ì§‘ë³„ íŠ¹ì„±\në¶„ë¥˜ê¸°ì¤€ ëª…í™•í•˜\në¶„ë¥˜ê¸°ì¤€ ëª¨í˜¸, ëŒ€ë¶€ë¶„ í•˜ë‚˜ë¡œ ë¶„ë¥˜\n\n\nì‹œê°ì  í•´ì„ë ¥\në³€ìˆ˜ë³„ ì°¨ì´ ëšœë ·\nêµ¬ë¶„ ì–´ë ¤ì›€\n\n\n\nê²°ë¡  : ì´ ë°ì´í„°ì—ì„œëŠ” Kí‰ê· ì´ ë” íƒ€ë‹¹í•œ êµ°ì§‘í™” ë°©ë²•\n\n\n2.2.4 (4)\n(3)ì—ì„œ ì„ íƒëœ ìµœì¢… ëª¨ë¸ë¡œ ìƒì„±í•œ êµ°ì§‘ë“¤ì˜ ê³ ê° íŠ¹ì„±ì„ ë¶„ì„í•˜ì—¬ë¼.\nKí‰ê·  êµ°ì§‘í™” êµ°ì§‘ë³„ íŠ¹ì„±\n0 : ë‚®ì€ ìì‚°, ë‚®ì€ êµ¬ë§¤ì•¡, ë‚®ì€ êµ¬ë§¤íšŸìˆ˜ -&gt; í•˜ìœ„ ê³ ê°êµ° (ì•½ 17.5%)\n1 : ë†’ì€ ìì‚°, ë†’ì€ êµ¬ë§¤ì•¡, ë†’ì€ êµ¬ë§¤íšŸìˆ˜ -&gt; ë¶€ìœ í•˜ê³  ì´ìš©ëŸ‰ ë§ì€ VIP ê³ ê°êµ° (ì•½ 0.5%)\n2 : í‰ê· ì´í•˜ ìì‚°, í‰ê· ì ì¸ êµ¬ë§¤ì•¡, í‰ê· ì´ìƒ êµ¬ë§¤íšŸìˆ˜ -&gt; ì¼ë°˜ ê³ ê°êµ° ì¤‘ ìƒìœ„ ì´ìš©ê³ ê° (ì•½ 35%)\n3 : í‰ê· ì ì¸ ìì‚°, í‰ê· ì´í•˜ êµ¬ë§¤ì•¡, í‰ê· ì´í•˜ êµ¬ë§¤íšŸìˆ˜ -&gt; ì¼ë°˜ ê³ ê°êµ° ì¤‘ í•˜ìœ„ ì´ìš©ê³ ê° (ì•½ 33%)\n4 : í‰ê· ì ì¸ ìì‚°, ë†’ì€ êµ¬ë§¤ì•¡, ë†’ì€ êµ¬ë§¤íšŸìˆ˜ -&gt; í‰ê· ì ì´ë‚˜ ì¹´ë“œ ì‚¬ìš©ëŸ‰ì´ ë§ì€ ìš°ëŸ‰ ê³ ê°êµ° (ì•½ 5%)\n5 : ë†’ì€ ìì‚°, ë‚®ì€ êµ¬ë§¤ì•¡, ë‚®ì€ êµ¬ë§¤íšŸìˆ˜ -&gt; ë¶€ìœ í•˜ë‚˜ ì¹´ë“œë¥¼ ì´ìš©í•˜ì§€ ì•ŠëŠ” ì ì¬ ê³ ê°êµ° (ì•½ 9%)\n\n\n2.2.5 (5)\nt-SNE ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ ì£¼ì–´ì§„ ìë£Œë¥¼ 2ì°¨ì›ìœ¼ë¡œ ì¶•ì†Œí•˜ì—¬ë¼. ê·¸ ê²°ê³¼ë¥¼, (3)ì—ì„œ ì„ íƒí•œ ëª¨ë¸ì˜ êµ°ì§‘ ë ˆì´ë¸”ì— ë”°ë¼ ì ì˜ ìƒ‰ìƒì´ ë‹¤ë¥´ê²Œ í‘œí˜„ëœ 2ì°¨ì› ì‚°ì ë„ë¡œ ì‹œê°í™”í•˜ì—¬ë¼.\n\nfrom sklearn.manifold import TSNE\ntsne = TSNE( n_components=2 )\ndf2dim = tsne.fit_transform( X_scaled )\ndf2dim = pd.DataFrame( df2dim, columns=['t1','t2'] )\ndf2dim['Labels' ] = scaled_df[\"KMeans_Label\"]\n\nplt.figure(figsize=(10, 6))\nsns.scatterplot(data=df2dim, x=\"t1\", y=\"t2\", hue=\"Labels\", palette=\"tab10\", s=60, alpha=0.8)\nplt.title(\"2D t-SNE Scatter Plot by Cluster Label\")\nplt.xlabel(\"t-SNE Dimension 1 (t1)\")\nplt.ylabel(\"t-SNE Dimension 2 (t2)\")\nplt.legend(title=\"Cluster Label\", bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n# ì°¸ê³  : DBSCAN ì‹œê°í™” ê²°ê³¼\ndf2dim['Labels' ] = scaled_df[\"DBSCAN_Label\"]\n\nplt.figure(figsize=(10, 6))\nsns.scatterplot(data=df2dim, x=\"t1\", y=\"t2\", hue=\"Labels\", palette=\"tab10\", s=60, alpha=0.8)\nplt.title(\"2D t-SNE Scatter Plot by Cluster Label\")\nplt.xlabel(\"t-SNE Dimension 1 (t1)\")\nplt.ylabel(\"t-SNE Dimension 2 (t2)\")\nplt.legend(title=\"Cluster Label\", bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ</span>"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-3",
    "href": "ë¹…ë°ì´í„°_ê³¼ì œ.html#question-3",
    "title": "2Â  ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ",
    "section": "2.3 Question 3",
    "text": "2.3 Question 3\n\n\n\n\n\n\n2.3.1 (1)\nXGBoost ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ íŠ¸ë¦¬ë¥¼ ìƒì„±í•œë‹¤ê³  í•  ë•Œ, ì²«ë²ˆì§¸ íŠ¸ë¦¬ì˜ ì²« ë§ˆë””ì—ì„œ ìµœì ì˜ ë¶„ë¦¬ê¸°ì¤€ì´ ë¬´ì—‡ì¸ì§€ë¥¼ êµ¬í•˜ì—¬ë¼. ë‹¨, ê²°ì¸¡ì´ ì•„ë‹Œ 4ê°œì˜ ê´€ì°°ì¹˜(ID 1~ID 4)ë§Œ ì´ìš©í•  ê²ƒ. ì œê³±ì˜¤ì°¨ ì†ì‹¤í•¨ìˆ˜ë¥¼ ì ìš©í•˜ë©°, ëª¨ë¸ ì´ˆê¸°ê°’ ğ‘“0ëŠ” 0.5ë¡œ ë‘ê³ , ê·œì œ í•˜ì´í¼ íŒŒë¼ë¯¸í„° ğœ†ëŠ” 0ìœ¼ë¡œ ì„¤ì •í•  ê²ƒ. ë˜í•œ ê³„ì‚° ê³¼ì •ì„ ìƒì„¸í•˜ê²Œ ì„œìˆ í•  ê²ƒ.\n1. Gradient ë° Hessian ê³„ì‚°\n\nì†ì‹¤í•¨ìˆ˜: \\((y_i - \\hat{y}_i)^2\\)\nì˜ˆì¸¡ê°’: \\(\\hat{y}_i = 0.5\\)\nGradient: \\(g_i = \\hat{y}_i - y_i = 0.5 - y_i\\)\nHessian: \\(h_i = 1\\) (ì œê³±ì˜¤ì°¨ ì†ì‹¤í•¨ìˆ˜ëŠ” ìƒìˆ˜)\n\n\n\n\nID\n\\(y_i\\)\n\\(g_i\\)\n\\(h_i\\)\n\n\n\n\n1\n1.25\n-0.75\n1\n\n\n2\n1.20\n-0.70\n1\n\n\n3\n1.30\n-0.80\n1\n\n\n4\n1.50\n-1.00\n1\n\n\n\n\n2. Split í›„ë³´ ë° Gain ê³„ì‚°\nGain ê³µì‹ (\\(\\lambda = 0\\)):\n\\[\n\\text{Gain} = \\frac{1}{2} \\left[ \\frac{G_L^2}{H_L} + \\frac{G_R^2}{H_R} - \\frac{(G_L + G_R)^2}{H_L + H_R} \\right]\n\\]\n\nSplit 1: \\(X \\leq 1.5\\)\n\nLeft: ID 2 â†’ \\(G_L = -0.70\\), \\(H_L = 1\\)\n\nRight: ID 1, 3, 4 â†’ \\(G_R = -2.55\\), \\(H_R = 3\\)\n\n\\[\n\\text{Gain}_1 = \\frac{1}{2} \\left( 0.49 + 2.1675 - 2.640625 \\right) = 0.0084\n\\]\n\nSplit 2: \\(X \\leq 2.5\\)\n\nLeft: ID 2, 3 â†’ \\(G_L = -1.50\\), \\(H_L = 2\\)\n\nRight: ID 1, 4 â†’ \\(G_R = -1.75\\), \\(H_R = 2\\)\n\n\\[\n\\text{Gain}_2 = \\frac{1}{2} \\left( 1.125 + 1.53125 - 2.640625 \\right) = 0.0078\n\\]\n\nSplit 3: \\(X \\leq 3.5\\)\n\nLeft: ID 1, 2, 3 â†’ \\(G_L = -2.25\\), \\(H_L = 3\\)\n\nRight: ID 4 â†’ \\(G_R = -1.00\\), \\(H_R = 1\\)\n\n\\[\n\\text{Gain}_3 = \\frac{1}{2} \\left( 1.6875 + 1 - 2.640625 \\right) = 0.0234\n\\]\n\nê²°ë¡ \n\n\n\nSplit ì¡°ê±´\nGain\n\n\n\n\n\\(X \\leq 1.5\\)\n0.0084\n\n\n\\(X \\leq 2.5\\)\n0.0078\n\n\n\\(X \\leq 3.5\\)\n0.0234\n\n\n\nìµœì  ë¶„ë¦¬ ê¸°ì¤€: \\(X \\leq 3.5\\)\n\n\n2.3.2 (2)\nXGBoost ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ íŠ¸ë¦¬ë¥¼ ìƒì„±í•œë‹¤ê³  í•  ë•Œ, ì²«ë²ˆì§¸ íŠ¸ë¦¬ì˜ ì²« ë§ˆë””ì—ì„œ Xì˜ ê°’ì´ ê²°ì¸¡ì¸ ê²½ìš°ëŠ” ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ìì‹ë§ˆë”” ì¤‘ ì–´ëŠ ìª½ìœ¼ë¡œ ë³´ë‚´ì•¼ í• ì§€ë¥¼ ê²°ì •í•˜ì—¬ë¼.\nìœ„ì˜ ìµœì  ë¶„í•  ê¸°ì¤€ \\(X \\leq 3.5\\)ì— ë”°ë¼, ì•„ë˜ ìƒí™©ì„.\n\nLeft: ID 1, 2, 3 â†’ \\(G_L = -2.25\\), \\(H_L = 3\\)\n\nRight: ID 4 â†’ \\(G_R = -1.00\\), \\(H_R = 1\\)\n\n\n1. ê²°ì¸¡ì´ ID 5ì¸ ê²½ìš° (\\(Y = 1.4\\))\n\n\\(g_5 = 0.5 - 1.4 = -0.9\\), \\(h_5 = 1\\)\n\nCase A: ì™¼ìª½ìœ¼ë¡œ ë³´ë‚¼ ê²½ìš°\n\n\\(G_L = -3.15\\), \\(H_L = 4\\)\n\\(G_R = -1.00\\), \\(H_R = 1\\)\n\n\\[\n\\text{Gain}_{5,\\text{left}} = \\frac{1}{2} \\left( \\frac{(-3.15)^2}{4} + \\frac{(-1)^2}{1} - \\frac{(-4.15)^2}{5} \\right) = 0.0181\n\\]\nCase B: ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¼ ê²½ìš°\n\n\\(G_L = -2.25\\), \\(H_L = 3\\)\n\\(G_R = -1.9\\), \\(H_R = 2\\)\n\n\\[\n\\text{Gain}_{5,\\text{right}} = \\frac{1}{2} \\left( \\frac{(-2.25)^2}{3} + \\frac{(-1.9)^2}{2} - \\frac{(-4.15)^2}{5} \\right) = 0.0240\n\\]\nê²°ë¡ : ê²°ì¸¡ê°’ì´ ID 5ì¸ ê²½ìš°, ì˜¤ë¥¸ìª½ì´ ë” ìœ ë¦¬í•¨\n\n2. ê²°ì¸¡ì´ ID 6ì¸ ê²½ìš° (\\(Y = 1.3\\))\n\n\\(g_6 = 0.5 - 1.3 = -0.8\\), \\(h_6 = 1\\)\n\nCase A: ì™¼ìª½ìœ¼ë¡œ ë³´ë‚¼ ê²½ìš°\n\n\\(G_L = -3.05\\), \\(H_L = 4\\)\n\\(G_R = -1.00\\), \\(H_R = 1\\)\n\n\\[\n\\text{Gain}_{6,\\text{left}} = \\frac{1}{2} \\left( \\frac{(-3.05)^2}{4} + \\frac{(-1)^2}{1} - \\frac{(-4.05)^2}{5} \\right) = 0.0229\n\\]\nCase B: ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¼ ê²½ìš°\n\n\\(G_L = -2.25\\), \\(H_L = 3\\)\n\\(G_R = -1.8\\), \\(H_R = 2\\)\n\n\\[\n\\text{Gain}_{6,\\text{right}} = \\frac{1}{2} \\left( \\frac{(-2.25)^2}{3} + \\frac{(-1.8)^2}{2} - \\frac{(-4.05)^2}{5} \\right) = 0.0135\n\\]\nê²°ë¡ : ID 6ì€ ì™¼ìª½ì´ ë” ìœ ë¦¬í•¨\n\nìš”ì•½\n\n\n\nê²°ì¸¡ ID\n\\(Y\\) ê°’\nì™¼ìª½ Gain\nì˜¤ë¥¸ìª½ Gain\në” ë‚˜ì€ ë°©í–¥\n\n\n\n\nID 5\n1.4\n0.0181\n0.0240\nì˜¤ë¥¸ìª½\n\n\nID 6\n1.3\n0.0229\n0.0135\nì™¼ìª½",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œ ë¶„ì„ ê¸°ë§ëŒ€ì²´ê³¼ì œ</span>"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html",
    "href": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html",
    "title": "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)",
    "section": "",
    "text": "1. í”„ë¡œì íŠ¸ ê°œìš”\në³¸ í”„ë¡œì íŠ¸ëŠ” ì—¬ëŸ¬ ë°ì´í„° ì „ì²˜ë¦¬ ê¸°ë²•(ê²°ì¸¡ì¹˜, ì´ìƒì¹˜, íŠ¹ì„±ê³µí•™ ë“±)ê³¼ ë¨¸ì‹ ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜(ì´ìƒì¹˜ ë¶„ë¥˜, ì°¨ì›ì¶•ì†Œ, XGBoost ë“±)ì„ ì‹¤ì œ ê¸ˆìœµë°ì´í„°ì— ì ìš©í•´ë³´ê³  ì‹œì‚¬ì ì„ ë„ì¶œí•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ ë¯¸êµ­ Lending Clubì˜ P2P ëŒ€ì¶œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì˜€ìœ¼ë©°, ì „ë°˜ì ì¸ ì›Œí¬í”Œë¡œìš°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#í”„ë¡œì íŠ¸-ê°œìš”",
    "href": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#í”„ë¡œì íŠ¸-ê°œìš”",
    "title": "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)",
    "section": "",
    "text": "ë°ì´í„°ì˜ êµ¬ì¡°, íŠ¹ì„± íŒŒì•… (EDA)\në°ì´í„°ì˜ ì „ì²˜ë¦¬ (íŠ¹ì„±ì— ë”°ë¥¸ ì¹¼ëŸ¼ ê°€ê³µ, ë¬¸ìí˜• ë³€ìˆ˜ ì²˜ë¦¬, ê²°ì¸¡ì¹˜ ë° ì´ìƒì¹˜ ì²˜ë¦¬, ë³€ìˆ˜ ì„ íƒ)\nXGBoost ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•œ ëŒ€ì¶œ ì—°ì²´ì—¬ë¶€ ì˜ˆì¸¡ ëª¨ë¸ êµ¬ì¶• ë° í‰ê°€\n\nìƒ˜í”Œë§, ëª¨ë¸ íŠœë‹, ì„±ê³¼ í‰ê°€, ë³€ìˆ˜ ì¤‘ìš”ë„ ë¶„ì„(SHAP), Cat/LightGBM ë“± ë‹¤ë¥¸ ëª¨ë¸ê³¼ ë¹„êµ",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ë°ì´í„°ì˜-êµ¬ì¡°-íŠ¹ì„±-eda",
    "href": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ë°ì´í„°ì˜-êµ¬ì¡°-íŠ¹ì„±-eda",
    "title": "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)",
    "section": "2. ë°ì´í„°ì˜ êµ¬ì¡°, íŠ¹ì„± (EDA)",
    "text": "2. ë°ì´í„°ì˜ êµ¬ì¡°, íŠ¹ì„± (EDA)\n\në°ì´í„°ì˜ ìˆ˜ì§‘, ê¸°ë³¸êµ¬ì¡°\në¯¸êµ­ ì†Œì¬ì˜ P2P ëŒ€ì¶œ ì „ë¬¸ì€í–‰ì¸ Lending Clubì˜ â€™07~â€™20ë…„ ëŒ€ì¶œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. (ì¶œì²˜ : Kaggle)\nì•½ 40ë§Œê°œì˜ ë°ì´í„°ë¡œ, ëª©ì ë³€ìˆ˜ì¸ ëŒ€ì¶œìƒíƒœë¥¼ í¬í•¨í•´ ì „ì²´ 27ê°œì˜ ì¹¼ëŸ¼(ìˆ˜ì¹˜í˜• 12 + ë¬¸ìí˜• 15)ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆìœ¼ë©°, ëª©ì ë³€ìˆ˜ëŠ” ì •ìƒ(ìƒí™˜, Fully paid) ë° ë¶€ë„(ì—°ì²´, Charged off)ë¡œ ì´ì§„ë¶„ë¥˜ ë¬¸ì œì…ë‹ˆë‹¤.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\në°ì´í„°ì˜ íŠ¹ì„±\në°ì´í„°ì˜ ê° ì¹¼ëŸ¼ë³„ íŠ¹ì§•ì„ ì•Œì•„ë³´ê³ , ì ì ˆí•œ ì „ì²˜ë¦¬ ë°©ë²•ì„ íƒìƒ‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\në¨¼ì € ìˆ˜ì¹˜í˜• ë³€ìˆ˜ì…ë‹ˆë‹¤. ê²°ì¸¡ì¹˜ ë° ì´ìƒì¹˜ ì²˜ë¦¬ëŠ” ë³„ë„ ì§„í–‰ ì˜ˆì •ìœ¼ë¡œ ë”°ë¡œ ë‹¤ë£¨ì§€ ì•Šê² ìŠµë‹ˆë‹¤.\nìƒê´€ê´€ê³„ í–‰ë ¬ì„ Heatmapìœ¼ë¡œ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ëŒ€ì²´ì ìœ¼ë¡œ ë³€ìˆ˜ë“¤ ê°„ ìƒê´€ê´€ê³„ê°€ ë¯¸ë¯¸í•˜ì˜€ìœ¼ë©°, ì¼ë¶€ ìƒê´€ê³„ìˆ˜ê°€ ë†’ì€ ë³€ìˆ˜ë“¤ì€ ë³€ìˆ˜ì„ íƒ ê³¼ì •ì—ì„œ ì œì™¸í•˜ëŠ” ë“± ë³„ë„ì˜ ì „ì²˜ë¦¬ ê³¼ì •ì„ í†µí•´ ë‹¤ì¤‘ê³µì„ ì„± ë¬¸ì œë¥¼ í•´ê²°í•  ê³„íšì…ë‹ˆë‹¤.\n\n\n\n\n\në‹¤ìŒìœ¼ë¡œ ë¬¸ìí˜• ë³€ìˆ˜ì…ë‹ˆë‹¤. ëª©ì ë³€ìˆ˜ì™€ ê´€ë ¨ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ëŠ” ì£¼ìš” ì˜ˆì‹œë§Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\në¨¼ì €, ëŒ€ì¶œê¸°ê°„(term), ì§‘ë³´ìœ í˜•íƒœ(home_ownership), ëŒ€ì¶œëª©ì (purpose)ì´ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ë©ë‹ˆë‹¤.\n\n\n\n\n\në‹¤ìŒìœ¼ë¡œ, ì‹ ìš©ë“±ê¸‰(A1~G5)ì— ë”°ë¼ ë¶€ë„ìœ¨ì´ ë†’ì•„ì§€ëŠ” ì¶”ì´ë¥¼ ë³´ì˜€ìœ¼ë©°, ë¬¸ìí˜• ë³€ìˆ˜ë“¤ ì¤‘ ì¼ë¶€ëŠ” ê³ ìœ ê°’ì´ ë„ˆë¬´ ë§ì•„ ë¶„ì„ì—ì„œ ì œì™¸í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì¼ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ë°ì´í„°ì˜-ì „ì²˜ë¦¬",
    "href": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ë°ì´í„°ì˜-ì „ì²˜ë¦¬",
    "title": "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)",
    "section": "3. ë°ì´í„°ì˜ ì „ì²˜ë¦¬",
    "text": "3. ë°ì´í„°ì˜ ì „ì²˜ë¦¬\në°ì´í„°ì˜ ì „ì²˜ë¦¬ëŠ” ì•„ë˜ì˜ ê³¼ì •ìœ¼ë¡œ ì‹¤ì‹œí•˜ì˜€ìŠµë‹ˆë‹¤.\n\në¶„ì„ì— ì í•©í•˜ë„ë¡ ì¹¼ëŸ¼ ë³€í™˜ ë° í†µí•©, ì œê±°\n\në³€í™˜/í†µí•© : ì£¼ì†Œ(address)ëŠ” ìš°í¸ë²ˆí˜¸(zip_code)ë§Œ ì¶”ì¶œí•˜ê³  ì œê±°, ëŒ€ì¶œê¸°ê°„(term, 36month ë“±)ì€ ìˆ˜ì¹˜í˜•ìœ¼ë¡œ ë³€í™˜, ì§‘ ì†Œìœ ì—¬ë¶€(home_ownership)ì˜ ê·¹ì†Œìˆ˜ê°’ë“¤ì€ Otherë¡œ í†µí•©\në¶ˆí•„ìš”í•œ noise ë°©ì§€ë¥¼ ìœ„í•´ 100ê°œ ì´ìƒì˜ ê³ ìœ ê°’ì„ ê°€ì§„ ì¹¼ëŸ¼ ì œê±° : ì§ì—…(title), ì§ì—…ê¸€ììˆ˜(emp_title), ë°œí–‰ì¼(issue_d), ìµœì´ˆì—°ë„(earliest_cr_line)\në‹¤ë¥¸ ë³€ìˆ˜ì™€ ì¤‘ë³µë˜ê±°ë‚˜ ì¶”ë¡  ê°€ëŠ¥í•œ ì¹¼ëŸ¼ ì œê±° : ì‹ ìš©ì ìˆ˜-ëŒ€ë¶„ë¥˜(grade), ê·¼ì†ì—°ìˆ˜(emp_length)\n\në¬¸ìí˜• ë³€ìˆ˜ ì²˜ë¦¬ : ìˆœì„œê°€ ìˆê±°ë‚˜ ì´ì§„ë³€ìˆ˜ì¸ ê²½ìš° ë¼ë²¨ì¸ì½”ë”©, ë‹¨ìˆœ ì ì£¼ì¸ ê²½ìš° ì›í•«ì¸ì½”ë”© ì ìš©\n\në¼ë²¨ì¸ì½”ë”© : ëª©ì ë³€ìˆ˜(ì´ì§„), ì‹ ìš©ì ìˆ˜(ìˆœì„œ ì¡´ì¬) / ì›í•«ì¸ì½”ë”© : ì´ì™¸ì˜ ë¬¸ìí˜• ë³€ìˆ˜\n\nìˆ˜ì¹˜í˜• ë³€ìˆ˜ì˜ ê²°ì¸¡ì¹˜ ë° ì´ìƒì¹˜ ì²˜ë¦¬ : ì¤‘ê°„ê°’ ì²˜ë¦¬ ë° 1% ì´ìƒì¹˜ ì œê±°\n\nê²°ì¸¡ì¹˜ : ë³€ìˆ˜ê°„ ìƒê´€ê´€ê³„ê°€ ë¯¸ë¯¸í•˜ê³ , ì´í›„ Borutaë¥¼ ì ìš© ì˜ˆì •ì´ë¯€ë¡œ ì˜ˆì¸¡í˜• ëª¨ë¸ë³´ë‹¤ëŠ” ì¤‘ê°„ê°’ì„ ì±„íƒ\nì´ìƒì¹˜ : ê³ ì°¨ì›, ë§ì€ ìƒ˜í”Œ(ì•½ 40ë§Œ)ì„ ê³ ë ¤, ë¶„í¬ì— ëŒ€í•œ ê°€ì •ì´ ë¶ˆí•„ìš”í•œ Isolation forest ê¸°ë²• ì±„íƒ\n\në³€ìˆ˜ ì„ íƒì„ í†µí•´ ë¶„ì„ì— ì í•©í•œ ìµœì¢… ë°ì´í„° ê°€ê³µ : Boruta ì•Œê³ ë¦¬ì¦˜ ì ìš©\n\nì¼ë¶€ ë³€ìˆ˜ê°„ ìƒê´€ê´€ê³„ê°€ ì¡´ì¬í•˜ëŠ” ì ì„ ê³ ë ¤, ìµœì ì˜ ë³€ìˆ˜ ì¡°í•©ì„ ì°¾ê³ ì Boruta ì•Œê³ ë¦¬ì¦˜ ì±„íƒ\nì›í•«ì¸ì½”ë”© ëŒ€ìƒ ë³€ìˆ˜ë¥¼ ì œì™¸í•œ 13ê°œ(ìˆ˜ì¹˜í˜•+ë¼ë²¨)ì— ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•œ ê²°ê³¼ 11ê°œì˜ ë³€ìˆ˜ë¥¼ ì„ íƒí•˜ì˜€ê³ , ì›í•«ì¸ì½”ë”© ëŒ€ìƒ ë³€ìˆ˜ì™€ ê²°í•©í•˜ì—¬ ìµœì¢… ë°ì´í„° êµ¬ì„±\n\n\n\n\n\n\n\n\nIsolation Forest ê²€ì¦(T-SNE ì ìš©) ë° ìµœì¢… ë°ì´í„° êµ¬ì„±\n\n\n\nìˆ˜ì¹˜í˜• ë³€ìˆ˜ì— T-SNEë¥¼ ì ìš©í•˜ì—¬ 3ì°¨ì›ìœ¼ë¡œ ì¶•ì†Œí•œ ê²°ê³¼, ì´ìƒì¹˜ ì œê±°(Isolation Forest)ê°€ ì ì ˆíˆ ì‘ë™í•˜ì˜€ìœ¼ë©°, Boruta ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë³€ìˆ˜ ì„ íƒê¹Œì§€ ë§ˆì¹œ í›„ ìµœì¢… ë°ì´í„°ëŠ” 7ê°œì˜ ë¬¸ìí˜• ë³€ìˆ˜(ì›í•«ì¸ì½”ë”© 6 + ë¼ë²¨ì¸ì½”ë”© 1) ë° 9ê°œì˜ ìˆ˜ì¹˜í˜• ë³€ìˆ˜, 1ê°œì˜ ëª©ì ë³€ìˆ˜(ì´ì§„ë¶„ë¥˜)ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)"
    ]
  },
  {
    "objectID": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ëŒ€ì¶œ-ì—°ì²´ì—¬ë¶€-ì˜ˆì¸¡-ëª¨ë¸-êµ¬ì¶•-ë°-í‰ê°€",
    "href": "ë¹…ë°ì´í„°_íŒ€í”„ë¡œì íŠ¸_íŒ€4_ë³´ê³ ì„œ.html#ëŒ€ì¶œ-ì—°ì²´ì—¬ë¶€-ì˜ˆì¸¡-ëª¨ë¸-êµ¬ì¶•-ë°-í‰ê°€",
    "title": "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)",
    "section": "4. ëŒ€ì¶œ ì—°ì²´ì—¬ë¶€ ì˜ˆì¸¡ ëª¨ë¸ êµ¬ì¶• ë° í‰ê°€",
    "text": "4. ëŒ€ì¶œ ì—°ì²´ì—¬ë¶€ ì˜ˆì¸¡ ëª¨ë¸ êµ¬ì¶• ë° í‰ê°€\n\nADASYNì„ ì´ìš©í•œ ì˜¤ë²„ìƒ˜í”Œë§\nëª¨ë¸ë§ì— ì•ì„œ, í´ë˜ìŠ¤ ë¶ˆê· í˜• ë¬¸ì œëŠ” ADASYNì„ í†µí•œ ì˜¤ë²„ìƒ˜í”Œë§ìœ¼ë¡œ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤. ê³¼ëŒ€í‰ê°€, ê³¼ì í•©ì„ ë°©ì§€í•˜ê³  ê²€ì¦ ë¬´ê²°ì„±ì„ ìœ„í•´ CV ê³¼ì •ì˜ í›ˆë ¨ ë°ì´í„°ì—ë§Œ ì˜¤ë²„ìƒ˜í”Œë§í•˜ì˜€ìœ¼ë©°, (imblearn.pipeline í™œìš©) ì´ë¥¼ í†µí•´ ê²€ì¦ì€ í•­ìƒ ì›ë³¸ë°ì´í„°ë¡œë§Œ ì§„í–‰ë©ë‹ˆë‹¤.\n\n\nXGBoost ëª¨ë¸ êµ¬ì¶•\nì•ì„œ êµ¬ì„±í•œ 40ê°œ ë³€ìˆ˜ë¡œ â€œëŒ€ì¶œ ì—°ì²´ ì—¬ë¶€â€ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ XGBoost ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ êµ¬ì¶•í•˜ì˜€ìœ¼ë©°, ëª¨ë¸ íŠœë‹ì€ 2ë‹¨ê³„ ìµœì í™” ì ‘ê·¼ë²•ì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì€ ê³¼ì í•©ì„ ë°©ì§€í•˜ê³  ì •í•´ì§„ ê³„ì‚°ìì› í•˜ì—ì„œ ìµœëŒ€í•œ ê³µì •í•˜ê²Œ íŒŒë¼ë¯¸í„°ë¥¼ ë¹„êµí•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\n1ë‹¨ê³„: ì´ˆê¸° í•˜ì´í¼íŒŒë¼ë¯¸í„° íƒìƒ‰ - ìƒëŒ€ì ìœ¼ë¡œ ë†’ì€ í•™ìŠµë¥ (0.1)ê³¼ ê³ ì •ëœ n_estimators ê°’ìœ¼ë¡œ í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°í•©ì„ íƒìƒ‰ - ê° ì¡°í•©ì´ ë™ì¼í•œ í•™ìŠµ ê¸°íšŒ(ê°™ì€ íŠ¸ë¦¬ ê°œìˆ˜)ë¥¼ ê°–ë„ë¡ ë³´ì¥ (CV ë‚´ì—ì„œ ADASYN ì˜¤ë²„ìƒ˜í”Œë§ ì ìš©)\n2ë‹¨ê³„: ìµœì  ëª¨ë¸ ë¯¸ì„¸ ì¡°ì • - 1ë‹¨ê³„ì—ì„œ ì°¾ì€ ìµœì  í•˜ì´í¼íŒŒë¼ë¯¸í„°ì— ë‚®ì€ í•™ìŠµë¥ (0.01)ê³¼ ë†’ì€ n_estimators(10000) ì ìš© - ì¡°ê¸°ì¢…ë£Œë¥¼ ì ìš©(50)í•˜ì—¬ ìµœì ì˜ íŠ¸ë¦¬ ê°œìˆ˜ ê²°ì •í•˜ê³ , ì „ì²´ í›ˆë ¨/ê²€ì¦ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ í•™ìŠµ\n\n\n\n2ë‹¨ê³„ ì ‘ê·¼ë²•ì˜ ìµœì¢… ëª¨ë¸ í•™ìŠµê³¡ì„ \n\n\n\n\nëª¨ë¸ ì¼ë°˜í™”ì„±ëŠ¥ í‰ê°€\ní´ë˜ìŠ¤ ë¶ˆê· í˜• ë¬¸ì œë¥¼ ê³ ë ¤í•˜ì—¬ ìµœì¢… ëª¨ë¸ì˜ ì¼ë°˜í™” ì„±ëŠ¥ì„ F1-Scoreë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í‰ê°€í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. F1-scoreëŠ” ì•½ 0.94, ROC-AUCëŠ” ì•½ 0.91ë¡œ ì‹¤ì œ ì—°ì²´ ì—¬ë¶€ë¥¼ ì˜ ì˜ˆì¸¡í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.\níŠ¹íˆ, ëª¨ë¸ íŠœë‹ ê³¼ì •ì—ì„œ 1ë‹¨ê³„ í•˜ì´í¼íŒŒë¼ë¯¸í„° íƒìƒ‰ì‹œ ìµœê³  F1-Scoreê°€ 0.93544ì˜€ëŠ”ë°, ì¼ë°˜í™” ì„±ëŠ¥ì€ ê·¸ì™€ ë™ì¼í•œ ìˆ˜ì¤€ì´ë¯€ë¡œ ê³¼ì í•© ë°©ì§€ë¥¼ ìœ„í•œ 2ë‹¨ê³„ ìµœì í™” ê¸°ë²•ì´ íš¨ê³¼ì ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\n\n\n\n\nì—¬ëŸ¬ Gradiant boosting ê³„ì—´ì˜ ì•Œê³ ë¦¬ì¦˜ê³¼ ë¹„êµ\n\n\n\nì£¼ë¡œ ì‚¬ìš©í•œ XGBoost ì´ì™¸ì—ë„ ë‹¤ì–‘í•œ Gradiant boosting ê³„ì—´ ë° ì•™ìƒë¸” ì•Œê³ ë¦¬ì¦˜ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\nXGBoost: Regularizationê³¼ íŠ¸ë¦¬ êµ¬ì¡° ìµœì í™”ì— ê°•ì ì„ ê°€ì§„ Gradient Boosting ëª¨ë¸ |\nCatBoost: ë²”ì£¼í˜• ë³€ìˆ˜ ìë™ ì¸ì‹ ê¸°ëŠ¥ì´ ìˆëŠ” Gradient Boosting ê¸°ë°˜ ëª¨ë¸\nLightGBM: ë¹ ë¥¸ í•™ìŠµ ì†ë„ì™€ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ì˜ Gradient Boosting ê¸°ë°˜ ëª¨ë¸\nSoft Voting: CatBoost, LightGBMì˜ ì˜ˆì¸¡ í™•ë¥  í‰ê· ì„ í†µí•œ ê²°í•©(ì•™ìƒë¸”) ëª¨ë¸\nStacking: CatBoost, LightGBMì˜ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ Logistic Regressionì— ì „ë‹¬í•˜ëŠ” ë©”íƒ€ ëª¨ë¸ ê¸°ë°˜ ì•™ìƒë¸”\n\nXGBoostì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ê° ëª¨ë¸ì„ íŠœë‹, í›ˆë ¨í•˜ì˜€ìœ¼ë©° ì¼ë°˜í™”ì„±ëŠ¥ì€ ìœ ì‚¬í•œ ìˆ˜ì¤€ì´ì˜€ìŠµë‹ˆë‹¤. F1-ScoreëŠ” ì•™ìƒë¸”(Soft Voting) ëª¨ë¸ì´, ROC-AUC ì ìˆ˜ëŠ” XGBoostê°€ ê°€ì¥ ìš°ìˆ˜í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\n\nëª¨ë¸\nF1 Score\nROC AUC\nëª¨ë¸\nF1 Score\nROC AUC\n\n\n\n\nCatBoost\n0.9355\n0.9073\nSoft Voting\n0.9356\n0.9072\n\n\nLightGBM\n0.9353\n0.9066\nStacking\n0.9330\n0.9072\n\n\n\n\n\nê·¸ëŸ¬ë‚˜, ìƒ˜í”Œì´ ì ì€ â€œë¶€ë„â€ì¸ ê²½ìš°, ì˜ˆì¸¡ ì„±ëŠ¥ì´ ë‹¤ì†Œ ë–¨ì–´ì§€ëŠ” ëª¨ìŠµì´ ê´€ì¸¡ë˜ì—ˆìŠµë‹ˆë‹¤.\në¶€ë„ì˜ ì ˆë°˜ ì´ìƒì´ ì •ìƒìœ¼ë¡œ ë¶„ë¥˜ë˜ì—ˆìœ¼ë©° ëª¨ë“  ëª¨ë¸ì— ë™ì¼í•œ ë¬¸ì œê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³¼ ë•Œ, ë°ì´í„°ì˜ í•œê³„ì¸ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ë˜ëŠ” ì‹ ê²½ë§ ê³„ì—´ì„ ì ìš©í•´ë³´ëŠ” ê²ƒë„ ê°œì„ ë°©ë²•ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\n\n\n\n\n\n\nXGBoost Confusion Matrix\n\n\n\n\n\n\n\nXGBoost PRCurve\n\n\n\n\n\n\n\në³€ìˆ˜ ì¤‘ìš”ë„(Feature Importance) ë¶„ì„\nê¸°ë³¸ ë³€ìˆ˜ ì¤‘ìš”ë„ ì‚°ì¶œ ê²°ê³¼ ë¶€ë„ ì—¬ë¶€ì—ëŠ” ì˜ˆìƒ ì™¸ë¡œ ì£¼ê±°ì§€ê°€ í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìœ¼ë©°, ì´ì™¸ì—ë„ ëŒ€ì¶œê¸°ê°„ ë“±ì´ ë¶„ë¥˜ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n\n\n\n\në³´ë‹¤ ìƒì„¸í•œ ë³€ìˆ˜ ì¤‘ìš”ë„ ë¶„ì„ì„ ìœ„í•´ SHAP(SHapley Additive exPlanations) ë¶„ì„ì„ ì‹¤ì‹œí•˜ì—¬ ê° ë³€ìˆ˜ì˜ ì¤‘ìš”ë„, ì˜ˆì¸¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥(ë°©í–¥ì„±, ì •ë„)ì„ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\n\n\n\nì „ì²´ì ì¸ ì¤‘ìš”ë„ëŠ” ì£¼ê±°ì§€ê°€ í° ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ì ì—ì„œ ìœ ì‚¬í•˜ì˜€ìœ¼ë©°, ë³€ìˆ˜ë³„ íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n-   ìƒìœ„ 7ê°œëŠ” í•´ë‹¹ ì§€ì—­ì— ì£¼ê±°(1) ì‹œ, ì—°ì²´(0)ê°€ ë§ìœ¼ë¯€ë¡œ ì§‘ê°’/ì†Œë“ìˆ˜ì¤€ì´ ë‚®ì€ ì£¼ê±°ì§€ë¡œ ì¶”ì •\n-   í•˜ìœ„ 2ê°œëŠ” ì§‘ê°’/ì†Œë“ìˆ˜ì¤€ì´ ë†’ì€ ì£¼ê±°ì§€ë¡œ ì¶”ì •\n-   ëŒ€ì¶œëª©ì ì´ ë¶€ì±„ìƒí™˜/ì‹ ìš©ì¹´ë“œ, ëŒ€ì¶œì´ìê°€ ë†’ê³ , ëŒ€ì¶œê¸°ê°„ì´ ê¸¸ê³ , ì†Œë“ì´ ë‚®ì„ìˆ˜ë¡ ì—°ì²´ ì˜ˆì¸¡ ê°€ëŠ¥ì„± ì¦ê°€\n-   ì´ ì™¸ì—ë„ ëŒ€ë¶€ë¶„ì˜ ë³€ìˆ˜ê°€ ëŒ€ì¶œê³¼ ê´€ë ¨ëœ ì¼ë°˜ì ì¸ ì§ê´€ê³¼ ë™ì¼í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŒ\n\n\nì‹œì‚¬ì \nì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì‹¤ì œ ì€í–‰ì˜ ë°ì´í„°ë¥¼ ì‚´í´ë³´ê³ , ëŒ€ì¶œì˜ ë¶€ë„ í™•ë¥  ì˜ˆì¸¡ ëª¨ë¸ì„ êµ¬ì¶•í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\në¨¼ì € ì‹¤ì œ ë°ì´í„°ë¥¼ ì „ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ê²°ì¸¡ì¹˜, ì´ìƒì¹˜, ì í•©í•˜ì§€ ì•Šì€ ë³€ìˆ˜ ë¶„ë¥˜ ë“±ì˜ ë¬¸ì œì ì„ ì‹¤ì œë¡œ ê²½í—˜í•  ìˆ˜ ìˆì—ˆê³  Isolation Forest ë° T-SNE, Boruta ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•´ë³´ë©´ì„œ ê° ì•Œê³ ë¦¬ì¦˜ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  í™œìš©ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në˜í•œ, XGBoost ì•Œê³ ë¦¬ì¦˜ì´ ê¸ˆìœµë°ì´í„° ì˜ˆì¸¡ì— ê°•ë ¥í•œ ì„±ëŠ¥ì„ ê°€ì§„ ê²ƒì„ í™•ì¸í•˜ì˜€ê³ , ëª¨ë¸ ì„±ëŠ¥ì—ëŠ” ì•Œê³ ë¦¬ì¦˜ ì„ íƒ ë¿ë§Œì•„ë‹ˆë¼ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ë°©ë²•(2ë‹¨ê³„ ìµœì í™”) í´ë˜ìŠ¤ ë¶ˆê· í˜• í•´ì†Œ(oversampling), ë³€ìˆ˜ ì„ ë³„(boruta) ë“±ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆìŠµë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ ì€í–‰ ëŒ€ì¶œì˜ ì—°ì²´ì—¬ë¶€ì—ëŠ” ì£¼ê±°ì§€ê°€ ë§¤ìš° í° ì˜í–¥ì„ ë¯¸ì¹œê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìœ¼ë©°, ì´ëŠ” ì£¼ê±°ì§€ì— ì§‘ê°’/ì£¼ê±°í˜•íƒœ/ì†Œë“/ì‹ ìš©ì ìˆ˜/ì§ì—… ë“± ì¢…í•©ì ì¸ ìš”ì†Œê°€ ëª¨ë‘ ë°˜ì˜ë˜ì–´ìˆê¸° ë•Œë¬¸ì¸ ê²ƒìœ¼ë¡œ ì¶”ì •ë©ë‹ˆë‹¤. ì´ì™¸ì—ë„ ì´ììœ¨, ëŒ€ì¶œëª©ì /ê¸°ê°„ ë“±ì´ ì—°ì²´ ì—¬ë¶€ ì˜ˆì¸¡ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìœ¼ë©°, ê·¸ ì˜í–¥ì€ ì¼ë°˜ì ì¸ ì§ê´€ê³¼ ë™ì¼í•˜ì˜€ìŠµë‹ˆë‹¤.\në°ì´í„° ìì²´ì˜ í•œê³„ì ìœ¼ë¡œ ì¸í•´ ì†Œìˆ˜ í‘œë³¸ì— ëŒ€í•œ í•™ìŠµì´ ë¶€ì¡±í•˜ì—¬ ì˜ˆì¸¡ë ¥ì´ ë‹¤ì†Œ ë–¨ì–´ì§€ëŠ” í•œê³„ì ì´ ìˆì—ˆìœ¼ë‚˜, ì „ë°˜ì ìœ¼ë¡œ ìˆ˜ì—…ì‹œê°„ì— ë‹¤ë£¬ ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì´ë¡ ì´ ì‹¤ì œ ì„¸ìƒì— ì ìš©ë˜ëŠ” ê³¼ì •ì„ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¶„ì„ì— ì í•©í•œ ë°ì´í„°ë¥¼ êµ¬í•˜ê³  ì „ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ëœ í”„ë¡œì íŠ¸ì˜€ìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ë¨¸ì‹ ëŸ¬ë‹2('25 ë´„)",
      "ë¹…ë°ì´í„°ì™€ ê¸ˆìœµìë£Œë¶„ì„ í”„ë¡œì íŠ¸ (Team 4)"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "",
    "text": "1. ê°œìš”\në³¸ ë¦¬í¬íŠ¸ëŠ” ì˜µì…˜ê³¼ ë³€ë™ì„±ì§€ìˆ˜ë¥¼ í™œìš©í•œ ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ì „ëµì„ ì•Œì•„ë³´ê³ , ê³¼ê±° ë°ì´í„°ë¥¼ í†µí•´ êµ¬í˜„ ë° ê²€ì¦í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ë€ 1.ë³€ë™ì„± ì¡°ì •, 2.ì£¼ë‹¨ìœ„ ë§¤ë„ ë‘ê°€ì§€ íŠ¹ì§•ì„ í†µí•´ ê¸°ì¡´ ë‹¨ì ì„ ë³´ì™„í•œ ì–‘ë§¤ë„ ì „ëµìœ¼ë¡œ, â€œë§¤ì£¼â€ V-Kospi200ë¥¼ ì´ìš©í•´ í–‰ì‚¬ê°€ê²© ë²”ìœ„ë¥¼ ê²°ì •í•˜ê³  ì½œ/í’‹ì˜µì…˜ì„ ë§¤ë„(ì–‘ë§¤ë„)í•˜ê²Œ ë©ë‹ˆë‹¤.\nì „ëµ ì†Œê°œì— ì•ì„œ í•„ìš”í•œ ë°°ê²½ì§€ì‹ì„ ë‹¤ë£¨ê³ , ì „ëµ ì†Œê°œ ë° êµ¬í˜„, ë°±í…ŒìŠ¤íŒ… ë° ì„±ê³¼ë¥¼ ì°¨ë¡€ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html#ë°°ê²½ì§€ì‹",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html#ë°°ê²½ì§€ì‹",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "2. ë°°ê²½ì§€ì‹",
    "text": "2. ë°°ê²½ì§€ì‹\n\nì–‘ë§¤ë„ (Short strangle)\nì–‘ë§¤ë„ë€ ì˜µì…˜ ê±°ë˜ì „ëµìœ¼ë¡œ, ì¼ë°˜ì ìœ¼ë¡œ ë§Œê¸°ì¼ì´ ê°™ì€ ì™¸ê°€ê²©(OTM) ì½œ/í’‹ì˜µì…˜ì„ ë§¤ë„í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\nOTM ì˜µì…˜ì„ ë§¤ë„í•˜ë¯€ë¡œ, ë§Œê¸°ì¼ì— ê¸°ì´ˆìì‚°ì˜ ê°€ê²©ì´ í’‹ì˜µì…˜ì˜ í–‰ì‚¬ê°€ê²©ê³¼ ì½œì˜µì…˜ì˜ í–‰ì‚¬ê°€ê²© ì‚¬ì´ë¼ë©´ ê¶Œë¦¬í–‰ì‚¬ë˜ì§€ ì•Šê²Œ ë˜ê³  ì˜µì…˜ í”„ë¦¬ë¯¸ì—„(ë§¤ë„ìˆ˜ìµ)ì„ ê·¸ëŒ€ë¡œ ì–»ì„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\në°˜ë©´, ì–‘ë§¤ë„ëŠ” ì‹œì¥ì˜ ë³€ë™ì„±ì´ ì˜ˆìƒê³¼ ë‹¬ë¦¬ í° ê²½ìš°, í° ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ë„ ì¡´ì¬í•©ë‹ˆë‹¤. ìˆ˜ìµì€ í”„ë¦¬ë¯¸ì—„ìœ¼ë¡œ í•œì •ë˜ì–´ìˆìœ¼ë‚˜, ì‹œí™© ê¸‰ë³€ì— ë”°ë¥¸ ì˜µì…˜ ì†ì‹¤ì—ëŠ” ì œí•œì´ ì—†ì–´ ì›ê¸ˆ ì´ìƒì˜ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nì¦‰, ì–‘ë§¤ë„ëŠ” ë†’ì€ í™•ë¥ ë¡œ ì•ˆì •ì ì¸ ì¤‘ìˆ˜ìµì„ ë³´ì¥í•˜ë‚˜ ë§¤ìš° ë‚®ì€ í™•ë¥ ë¡œ í° ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì „ëµì´ë©°, í–¥í›„ ì‹œì¥ì˜ ë³€ë™ì„±ì´ í¬ì§€ ì•Šì„ ê²ƒì´ë¼ ì˜ˆì¸¡ë  ë•Œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n\n\n\n\n\nì–‘ë§¤ë„ ì „ëµ ì˜ˆì‹œ\nêµ­ë‚´ì˜ ê²½ìš° í–‰ì‚¬ê°€ê²©ì˜ ìƒí•˜ë‹¨ì„ ë“±ê°€ê²©(ATM) \\(\\pm\\) 5%ë¡œ ì„¤ì •í•œ ì–‘ë§¤ë„ ETNì´ í•œ ë•Œ í° ì¸ê¸°ë¥¼ ëŒì—ˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ì¸ ì˜ˆì‹œì¸ ì›”ë³„ ì½”ìŠ¤í”¼200 OTM 5% ì–‘ë§¤ë„ ì „ëµì˜ ê±°ë˜ë°©ë²•ì„ ì‚´í´ë³´ë©´, ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\ní˜„ì¬ ì½”ìŠ¤í”¼200ì§€ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ATM+5%ì˜ ì½œì˜µì…˜ê³¼ ATM-5%ì˜ í’‹ì˜µì…˜ì„ ë§¤ë„ (í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµ ë°œìƒ)\në‹¤ìŒë‹¬ ë§Œê¸°ì¼ì´ ë˜ë©´, ì˜µì…˜ì€ ì²­ì‚°(ê¶Œë¦¬í–‰ì‚¬ì‹œ ì†ì‹¤)ë˜ê³  ë‹¤ì‹œ ATM \\(\\pm\\) 5%ì˜ ì½œ,í’‹ì˜µì…˜ì„ ë§¤ë„\n\nì¦‰, ì›”ë‹¨ìœ„ë¡œ ì˜µì…˜ì„ êµì²´í•˜ê²Œ ë˜ë©° í–‰ì‚¬ê°€ê²©ì˜ ìƒí•˜ë‹¨ì€ ATM \\(\\pm\\) 5%ë¡œ ê³ ì •í•œ ì–‘ë§¤ë„ ì „ëµì…ë‹ˆë‹¤. ì¤‘ìœ„í—˜-ì¤‘ìˆ˜ìµìœ¼ë¡œ í¥í–‰ì— ì„±ê³µí•œ ìƒí’ˆì´ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì€ í•œê³„ì ë„ ì¡´ì¬í•©ë‹ˆë‹¤.\n\ní–‰ì‚¬ê°€ê²© ë²”ìœ„ê°€ ê³ ì •ë˜ì–´ìˆì–´ ë³€ë™ì„± í™•ëŒ€ì‹œ ì†ì‹¤ ê°€ëŠ¥ì„±ì´ ì»¤ì§€ê³ , ë³€ë™ì„± ì¶•ì†Œì‹œ í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµì´ í¬ê²Œ ê°ì†Œ\nì˜µì…˜ êµì²´ì£¼ê¸°ê°€ 1ê°œì›”ë¡œ, ê·¸ê°„ ì§€ìˆ˜ì˜ í•˜ë½ì´ ëˆ„ì ëœë‹¤ë©´ ì†ì‹¤ì´ ê³¼ë„í•˜ê²Œ ì»¤ì§ˆ ìˆ˜ ìˆìŒ (ìœ ë™ì„± ë¦¬ìŠ¤í¬)\n\n\n\n\nì½”ìŠ¤í”¼200 ë³€ë™ì„±ì§€ìˆ˜ (V-Kospi200 index)\nì½”ìŠ¤í”¼200 ë³€ë™ì„± ì§€ìˆ˜ë€ ì£¼ì‹ ì‹œì¥ì˜ ë³€ë™ì„±ì„ ì¸¡ì •í•˜ëŠ” ì§€í‘œì…ë‹ˆë‹¤. ì½”ìŠ¤í”¼200 ì˜µì…˜ ê°€ê²© ê¸°ë°˜ì˜ ë‚´ì¬ë³€ë™ì„±ì„ ì´ìš©í•˜ì—¬ ì‚°ì¶œë˜ë©°, í–¥í›„ 30ì¼ê°„ ì‹œì¥ ë³€ë™ì„±ì— ëŒ€í•œ íˆ¬ììë“¤ì˜ ê¸°ëŒ€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€ìˆ˜ì…ë‹ˆë‹¤.\n\nì£¼ìš” íŠ¹ì§•\n\nì‹œì¥ ì‹¬ë¦¬ ë°˜ì˜: íˆ¬ììë“¤ì˜ ë¶ˆì•ˆ ì‹¬ë¦¬ë¥¼ ë°˜ì˜í•˜ë©°, â€™ê³µí¬ ì§€ìˆ˜(Fear Index)â€™ë¼ê³ ë„ ë¶ˆë¦¼\nì˜µì…˜ ê°€ê²© ê¸°ë°˜: ì½”ìŠ¤í”¼200 ì˜µì…˜ ê°€ê²© ê¸°ë°˜ì˜ ë‚´ì¬ë³€ë™ì„±ì„ í†µí•´ ì‚°ì¶œë˜ë©°, ì—¬ê¸°ì—ëŠ” íˆ¬ììë“¤ì˜ ê¸°ëŒ€ê°€ ë°˜ì˜\n\nê·¸ë˜í”„1 : ì¼ë³„ ì½”ìŠ¤í”¼200ì§€ìˆ˜ ë° ì½”ìŠ¤í”¼200 ë³€ë™ì„±ì§€ìˆ˜\n\n\n\n\n\n\n\n\nì½”ìŠ¤í”¼200 ìœ„í´ë¦¬ì˜µì…˜\nì½”ìŠ¤í”¼200 ìœ„í´ë¦¬ì˜µì…˜ì´ë€ ì½”ìŠ¤í”¼200 ì§€ìˆ˜ë¥¼ ê¸°ì´ˆìì‚°ìœ¼ë¡œ í•˜ëŠ” ì£¼ê°„ ë‹¨ìœ„ì˜ ì˜µì…˜ ê±°ë˜ ìƒí’ˆì„ ë§í•©ë‹ˆë‹¤. â€™19ë…„ ìƒì¥ë˜ì—ˆìœ¼ë©° ê¸°ì¡´ì˜ ì›” ë‹¨ìœ„ ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ì˜µì…˜ê³¼ëŠ” ë‹¬ë¦¬, ë§¤ì£¼ ì›”/ëª©ìš”ì¼ì— ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ë‹¨ê¸° ì˜µì…˜ì…ë‹ˆë‹¤.\n\nì£¼ìš” íŠ¹ì§•\n\nì„¸ë°€í•œ ê±°ë˜ ì§€ì›: ë§¤ì£¼ ì›”/ëª©ìš”ì¼ì— ë§Œê¸°ê°€ ë„ë˜í•˜ì—¬ ë‹¨ê¸°ì ì¸ ì‹œì¥ ë³€ë™ì— ëŒ€í•œ íˆ¬ì ë° ìœ„í—˜ ê´€ë¦¬ì— ìœ ë¦¬\në‹¤ì–‘í•œ íˆ¬ì ì „ëµ í™œìš©: ë‹¨ê¸°ì ì¸ ì‹œì¥ ì˜ˆì¸¡ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ íˆ¬ì ì „ëµì„ êµ¬ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html#ì „ëµ-ì†Œê°œ-ë°-êµ¬í˜„",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html#ì „ëµ-ì†Œê°œ-ë°-êµ¬í˜„",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "3. ì „ëµ ì†Œê°œ ë° êµ¬í˜„",
    "text": "3. ì „ëµ ì†Œê°œ ë° êµ¬í˜„\n\nì „ëµ ê°œìš”\në³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„(Volatility Adjusted Weekly Short strangle, VWss) ì „ëµì´ë€, ê¸°ì¡´ì— ë„ë¦¬ í™œìš©ë˜ë˜ ì›”ë³„ OTM 5% ì–‘ë§¤ë„ ì „ëµì— ì•„ë˜ ë‘ê°€ì§€ ë°©ë²•ì„ ê²°í•©í•œ ì „ëµì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì˜µì…˜ì˜ êµì²´ì£¼ê¸°ë¥¼ â€œë§¤ì›”â€ -&gt; â€œë§¤ì£¼â€ ë‹¨ìœ„ë¡œ ì„¸ë¶„í™”\ní–‰ì‚¬ê°€ê²©ì˜ ë²”ìœ„ë¥¼ ê³ ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë§¤ ì˜µì…˜ ë§¤ë„ì‹œì ë§ˆë‹¤ ì‹œì¥ ë³€ë™ì„±ì„ ê³ ë ¤í•˜ì—¬ ì¡°ì •\n\në”°ë¼ì„œ, ê¸°ì¡´ê³¼ ë‹¬ë¦¬ ì£¼ë‹¨ìœ„ë¡œ ì˜µì…˜ì„ êµì²´í•˜ë©°, í–‰ì‚¬ê°€ê²©ì˜ ë²”ìœ„ëŠ” êµì²´ì‹œì ì— ë§¤ë²ˆ ë‹¬ë¼ì§€ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì½”ìŠ¤í”¼200ìœ„í´ë¦¬ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³ , ë³€ë™ì„± ì§€í‘œëŠ” ë‚´ì¬ë³€ë™ì„± ê¸°ë°˜ì˜ V-Kospi200ì§€ìˆ˜ë¥¼ ì‚¬ìš©**í•˜ì—¬ êµ¬í˜„í•  ê³„íšì…ë‹ˆë‹¤.\n\n\ní–‰ì‚¬ê°€ê²© ë²”ìœ„ ì„¤ì •ë°©ë²•\ní–‰ì‚¬ê°€ê²©ì˜ ìƒí•˜ë‹¨ì€ ì˜µì…˜ ë§¤ë„ì‹œì ì˜ â€œì „ì¼ V-Kospi200 ì¢…ê°€â€ë¥¼ ì°¸ì¡°í•˜ì—¬ ì„¤ì •í•  ì˜ˆì •ì…ë‹ˆë‹¤. V-Kospi200ëŠ” í–¥í›„ 30ì¼ê°„ ì½”ìŠ¤í”¼200 ì§€ìˆ˜ì˜ ë³€ë™ì„±ì„ ìˆ˜ì¹˜í™”í•œ ì§€í‘œë¡œì„œ, í˜„ì¬ì‹œì ì—ì„œ ë³€ë™ì„±ì„ ì˜ ì˜ˆì¸¡í•  ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\në‹¤ë§Œ, ë³¸ ì „ëµì—ì„œ ì˜µì…˜ ë§¤ë„í¬ì§€ì…˜ì˜ ìœ ì§€ê¸°ê°„ì€ ì•½ 7ì¼ì´ë¯€ë¡œ ì§€ìˆ˜ ì¢…ê°€(ì—°ìœ¨)ë¥¼ ì£¼ë‹¨ìœ„ ê¸°ê°„ì— ë§ë„ë¡ í™˜ì‚°í•˜ì—¬ í–‰ì‚¬ê°€ê²©ì˜ ìƒí•˜ë‹¨ì„ ì‚°ì¶œí•˜ì˜€ìŠµë‹ˆë‹¤.\n\\[\\sigma_{Target}\\;=\\;\\frac{VKospi200_{(T-1)}\\times\\sqrt{Calendar\\;days}}{\\sqrt{365}}\\]\n\\[Call\\;strike\\;=\\;Kospi200_{(T)}\\times (1+\\sigma_{Target})\\;rounded\\;up\\;to\\;2.5pt\\]\n\\[Put\\;strike\\;=\\;Kospi200_{(T)}\\times (1-\\sigma_{Target})\\;rounded\\;down\\;to\\;2.5pt\\]\nì´ë ‡ê²Œ í–‰ì‚¬ê°€ê²©ì„ ì„¤ì •í•˜ë©´ V-Kospi200ê°€ 15ptì¼ ë•Œ ì›”í™˜ì‚° ë³€ë™ì„±ì´ ì•½ 5%(ì£¼í™˜ì‚° 2.5%)ê°€ ë©ë‹ˆë‹¤. ì¦‰,\n\nì‹œì¥ì˜ ì˜ˆìƒ ë³€ë™ì„±(V-Kospi200)ì´ ì—° 15% ì´ìƒ -&gt; í–‰ì‚¬ê°€ê²© ë²”ìœ„ë¥¼ ê¸°ì¡´ë³´ë‹¤ ë„“ê²Œ ì„¤ì •í•˜ì—¬ ì†ì‹¤ ê°€ëŠ¥ì„± ì¶•ì†Œ\nì‹œì¥ì˜ ì˜ˆìƒ ë³€ë™ì„±ì´ ì—° 15% ë¯¸ë§Œ -&gt; í–‰ì‚¬ê°€ê²© ë²”ìœ„ë¥¼ ê¸°ì¡´ë³´ë‹¤ ì¢ê²Œ ì„¤ì •í•˜ì—¬ í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµ ê·¹ëŒ€í™”\n\n\n\n\n\n\n\në³¸ ì „ëµì€ ìœ„í´ë¦¬ì˜µì…˜ì„ ì‚¬ìš©í•˜ë¯€ë¡œ í–¥í›„ 1ì£¼ì¼ ë³€ë™ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, 30ì¼ ë³€ë™ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” V-Kospi200ì€ ë§Œê¸° mismatchê°€ ìˆì§€ë§Œ, ë‹¨ê¸°ê°„ì˜ ì˜ˆì¸¡ì¹˜ì—ëŠ” í° ì°¨ì´ê°€ ì—†ê³  ì´ì™¸ì˜ ëŒ€ì•ˆ(e.g.Â 7-day VIX)ì´ ì—†ì–´ V-Kospi200ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\n\n\n\ní¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± ë°©ë²•\në¨¼ì €, í¸ì˜ë¥¼ ìœ„í•´ ì„¸ê¸ˆ/ìˆ˜ìˆ˜ë£Œ/í˜¸ê°€ìŠ¤í”„ë ˆë“œ ë“±ì˜ ê±°ë˜ë¹„ìš©ì€ ì—†ìœ¼ë©° ì¢…ê°€ì— ì›í•˜ëŠ” ìˆ˜ëŸ‰ë§Œí¼ ê±°ë˜í•  ìˆ˜ ìˆëŠ” ì™„ì „ìë³¸ì‹œì¥ì„ ê°€ì •í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ì „ëµ êµ¬í˜„ì„ ìœ„í•œ í¬íŠ¸í´ë¦¬ì˜¤(íˆ¬ìì›ê¸ˆ 100ì–µì›) êµ¬ì„± ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\nì „ì¼ V-Kospi200 ì§€ìˆ˜ë¥¼ ì£¼ë‹¨ìœ„ë¡œ í™˜ì‚°í•˜ì—¬ ì˜ˆìƒë³€ë™ì„±(\\(\\hat\\sigma=(VKospi200\\times \\sqrt{day})/\\sqrt{365}\\)) ì‚°ì¶œ\nì˜ˆìƒë³€ë™ì„±ì„ ë‹¹ì¼ Kospi200ì§€ìˆ˜ì— ì ìš©í•˜ì—¬ í–‰ì‚¬ê°€ê²© ìƒí•˜ë‹¨(ATM \\(\\pm\\hat\\sigma\\)ì„ 2.5pt ë‹¨ìœ„ë¡œ ì˜¬ë¦¼/ë‚´ë¦¼) ì‚°ì¶œ\në‹¹ì¼ Kospi200ì§€ìˆ˜ ë° ìŠ¹ìˆ˜(25ë§Œ)ë¥¼ ì ìš©, ì˜µì…˜ ë§¤ë„ìˆ˜ëŸ‰(\\(Q_{sell}=nominal/(kospi200\\times multiplier)\\)) ì‚°ì¶œ\ní–‰ì‚¬ê°€ê²© ìƒë‹¨ ì½œì˜µì…˜, í•˜ë‹¨ í’‹ì˜µì…˜ ë§¤ë„ (\\(Premium=(call price+put price)\\times Q_{sell}\\times multiplier\\))\nì›ê¸ˆê³¼ ë§¤ë„ìˆ˜ìµì„ ë‹¤ìŒì£¼ ë§Œê¸°ì¼ê¹Œì§€ MMFì— íˆ¬ì (\\(Interest=(nominal+Premium)\\times MMF \\times \\frac{day}{365}\\))\në‹¤ìŒì£¼ ë§Œê¸°ì¼ì´ ë˜ë©´, ê¶Œë¦¬í–‰ì‚¬ ì†ì‹¤ì„ í¬í•¨í•˜ì—¬ ìµœì¢…ì†ìµ ì‚°ì¶œ(\\(Revenue=Premium+Interest-Exercise\\))\n\nKospi200 &gt; í–‰ì‚¬ê°€ê²© ìƒë‹¨, ì½œì˜µì…˜ì—ì„œ ì†ì‹¤ ë°œìƒ(\\(Exercise=(Kospi200-Strike_{call})\\times multiplier\\))\nKospi200 &lt; í–‰ì‚¬ê°€ê²© í•˜ë‹¨, í’‹ì˜µì…˜ì—ì„œ ì†ì‹¤ ë°œìƒ(\\(Exercise=(Strike_{put}-Kospi200)\\times multiplier\\))\nì´ì™¸ì˜ ê²½ìš°, ê¶Œë¦¬í–‰ì‚¬ë˜ì§€ ì•Šì•„ ì˜µì…˜ í¬ì§€ì…˜ ì²­ì‚°(\\(Exercise=0\\))\n\nì£¼ê°„ ìµœì¢…ì†ìµì„ ì •ì‚°(\\(nominal_{new}=nominal_{old}+Revenue\\))í•˜ê³ , íˆ¬ìì¢…ë£Œì‹œì ê¹Œì§€ 1. ~ 6. ê³¼ì •ì„ ë°˜ë³µ",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html#backtesting",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html#backtesting",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "3. Backtesting",
    "text": "3. Backtesting\n\në°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬, í¬íŠ¸í´ë¦¬ì˜¤ êµ¬í˜„\nê³¼ê±° 5ê°œë…„(2020~2024) ì½”ìŠ¤í”¼200 ë“±ì˜ ì§€ìˆ˜/ì˜µì…˜ ê°€ê²©, ê¸ˆë¦¬ë¥¼ ìˆ˜ì§‘í•˜ì˜€ìœ¼ë©°, ì¶œì²˜ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\ní•œêµ­ê±°ë˜ì†Œ ì •ë³´ë°ì´í„°ì‹œìŠ¤í…œ(data.krx.co.kr) : ì½”ìŠ¤í”¼200 ë° V-Kospi200ì§€ìˆ˜\ní•œêµ­ê±°ë˜ì†Œ OpenAPI(openapi.krx.co.kr) : ì½”ìŠ¤í”¼200ì˜µì…˜ ë° ìœ„í´ë¦¬ì˜µì…˜ ì¢…ëª©ë³„ ê°€ê²©\ní•œêµ­ì€í–‰ ê²½ì œí†µê³„ì‹œìŠ¤í…œ(ecos.bok.or.kr) : ì¼ë³„ MMF(7ì¼) ê¸ˆë¦¬\n\n\n\n\n\n\ní•œêµ­ê±°ë˜ì†Œ OpenAPIë¥¼ í™œìš©í•œ ë°ì´í„° ìˆ˜ì§‘ ì˜ˆì‹œ\n\n\n\n\n\n\n\n\nAPI í˜¸ì¶œì‹œ json ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ Dataframe(python) ë° tibble(r)ë¡œ ë³€í™˜í•˜ì—¬ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\n\nimport requests; import json\nurl = 'http://data-dbg.krx.co.kr/svc/sample/apis/drv/opt_bydd_trd?basDd=20250312'\nheaders = {'AUTH_KEY': '74D1B99DFBF345BBA3FB4476510A4BED4C78D13A'}\nres = requests.get(url=url, headers=headers); res.text\n\n'{\"OutBlock_1\":[{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3195\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 195.0\",\"TDD_CLSPRC\":\"145.90\",\"CMPPREVDD_PRC\":\"6.85\",\"TDD_OPNPRC\":\"144.95\",\"TDD_HGPRC\":\"146.10\",\"TDD_LWPRC\":\"144.95\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"145.90\",\"ACC_TRDVOL\":\"31\",\"ACC_TRDVAL\":\"1129625000\",\"ACC_OPNINT_QTY\":\"154\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3197\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 197.5\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"143.40\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3200\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 200.0\",\"TDD_CLSPRC\":\"140.60\",\"CMPPREVDD_PRC\":\"5.00\",\"TDD_OPNPRC\":\"140.00\",\"TDD_HGPRC\":\"141.15\",\"TDD_LWPRC\":\"139.95\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"140.60\",\"ACC_TRDVOL\":\"31\",\"ACC_TRDVAL\":\"1088750000\",\"ACC_OPNINT_QTY\":\"290\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3202\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 202.5\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"138.40\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3205\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 205.0\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"135.90\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3207\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 207.5\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"133.40\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3210\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 210.0\",\"TDD_CLSPRC\":\"130.60\",\"CMPPREVDD_PRC\":\"5.60\",\"TDD_OPNPRC\":\"130.60\",\"TDD_HGPRC\":\"130.60\",\"TDD_LWPRC\":\"130.60\",\"IMP_VOLT\":\"64.00\",\"NXTDD_BAS_PRC\":\"130.60\",\"ACC_TRDVOL\":\"1\",\"ACC_TRDVAL\":\"32650000\",\"ACC_OPNINT_QTY\":\"20\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3212\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 212.5\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"62.47\",\"NXTDD_BAS_PRC\":\"128.40\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3215\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 215.0\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"60.94\",\"NXTDD_BAS_PRC\":\"125.90\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"59\"},{\"BAS_DD\":\"20250312\",\"PROD_NM\":\"ì½”ìŠ¤í”¼200 ì˜µì…˜\",\"RGHT_TP_NM\":\"CALL\",\"ISU_CD\":\"201W3217\",\"ISU_NM\":\"ì½”ìŠ¤í”¼200 C 202503 217.5\",\"TDD_CLSPRC\":\"-\",\"CMPPREVDD_PRC\":\"-\",\"TDD_OPNPRC\":\"-\",\"TDD_HGPRC\":\"-\",\"TDD_LWPRC\":\"-\",\"IMP_VOLT\":\"59.42\",\"NXTDD_BAS_PRC\":\"123.40\",\"ACC_TRDVOL\":\"0\",\"ACC_TRDVAL\":\"0\",\"ACC_OPNINT_QTY\":\"0\"}]}'\n\n\n\n\nìˆ˜ì§‘í•œ ë°ì´í„°ëŠ” Rì„ ì´ìš©í•˜ì—¬ ì „ì²˜ë¦¬í•˜ì˜€ìœ¼ë©°, ë‘ê°œì˜ ë°ì´í„°ì…‹ìœ¼ë¡œ ìš”ì•½í•˜ì˜€ìŠµë‹ˆë‹¤.\n\ní¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë³¸ ì •ë³´ : ì˜µì…˜ ë§Œê¸°ì¼(ë§¤ì£¼), ì˜µì…˜ ë³´ìœ ì¼, MMFê¸ˆë¦¬, Kospi200, ì „ì¼ V-K200, ê±°ë˜ëŒ€ìƒì˜µì…˜ ì •ë³´\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBAS_DD\nVOL\nDIFF_DAY\nMMF\nKOSPI200\nLAG_VK200\nPRIOR\nTARGET_C_K\nTARGET_P_K\n\n\n\n\n20241219\n0.0248719\n7\n0.0334\n322.38\n17.96\n24124\n332.5\n312.5\n\n\n20241212\n0.0285279\n7\n0.0335\n329.04\n20.60\n24123\n340.0\n317.5\n\n\n20241205\n0.0295527\n7\n0.0341\n323.87\n21.34\n24122\n335.0\n312.5\n\n\n20241128\n0.0252043\n7\n0.0340\n331.45\n18.20\n24121\n340.0\n322.5\n\n\n20241121\n0.0276001\n7\n0.0344\n329.49\n19.93\n24114\n340.0\n320.0\n\n\n20241114\n0.0344274\n7\n0.0340\n317.70\n24.86\n24113\n330.0\n305.0\n\n\n\n\n\n\nê±°ë˜ëŒ€ìƒì˜µì…˜ ì •ë³´ : í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë³¸ ì •ë³´ì— ëŒ€ì‘ë˜ëŠ” ê±°ë˜ëŒ€ìƒì˜µì…˜ì˜ ì¢…ê°€, ê±°ë˜ëŸ‰(0ì¸ ê²½ìš° ì œì™¸)\n\n\n\n\n\n\n\n\n\n\n\n\n\nBAS_DD\nPRICE_TARGET_C_K\nPRICE_TARGET_P_K\nACC_TRDVOL_TARGET_C_K\nACC_TRDVOL_TARGET_P_K\n\n\n\n\n20241219\n0.29\n0.74\n343\n137\n\n\n20241212\n0.42\n0.78\n190\n196\n\n\n20241205\n0.44\n0.91\n65452\n51417\n\n\n20241128\n0.34\n0.43\n288\n201\n\n\n20241121\n0.37\n0.53\n115\n201\n\n\n20241114\n0.43\n0.74\n329\n165\n\n\n\n\n\nì´ë¥¼ í†µí•´ ë§¤ë„ìˆ˜ëŸ‰, í”„ë¦¬ë¯¸ì—„, ì´ììˆ˜ìµ, ê¶Œë¦¬í–‰ì‚¬ì†ì‹¤ ë“±ì„ ì‚°ì¶œí•˜ì—¬ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBAS_DD\nVOL\nSELL_AMT\nPREMIUM\nINTEREST\nEXERCISE\nREVENUE\nRATE\n\n\n\n\n20200102\n0.0203434\n137.7648\n29963837\n2789154\n0\n32752991\n0.0032753\n\n\n20200109\n0.0221160\n135.8650\n20040080\n2844044\n9510547\n13373578\n0.0013374\n\n\n20200116\n0.0185154\n132.1091\n18825550\n2824485\n0\n21650035\n0.0021650\n\n\n20200123\n0.0197895\n132.3058\n23815037\n2787444\n219296795\n-192694314\n-0.0192694\n\n\n20200130\n0.0235286\n138.7107\n45080972\n2793358\n109234664\n-61360333\n-0.0061360\n\n\n20200206\n0.0252458\n133.0451\n46565774\n2774504\n0\n49340278\n0.0049340\n\n\n\n\n\n\n\n\n\n\n\n\në³€ë™ì„± ì¡°ì • ë°©ë²•ì— ë”°ë¥¸ í–‰ì‚¬ê°€ê²© ë²”ìœ„ ì¶”ì´(ê³¼ê±° 5ë…„)\n\n\n\nV-Kospi200ê³¼ ì—°ë™í•œ í–‰ì‚¬ê°€ê²©ì˜ ë²”ìœ„ëŠ” ì§€ë‚œ 5ë…„ê°„ 1.6% ~ 8.7%ê¹Œì§€ ê´‘ë²”ìœ„í•˜ê²Œ í˜•ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nì½”ìŠ¤í”¼200ì´ ê¸‰ë“±ë½í•˜ëŠ” ê²½ìš° ë²”ìœ„ê°€ ë„“ê²Œ í˜•ì„±ë˜ê³  ë³´í•©ì¥ì—ì„œëŠ” ì¢ê²Œ í˜•ì„±ë˜ëŠ” ì¶”ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ ì›”í™˜ì‚°(\\(\\times\\sqrt{4}\\))í•˜ì—¬ ê¸°ì¡´ 5%ì™€ ë¹„êµí•˜ë©´ ì§€ìˆ˜ì˜ ìƒí™©ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ì¡°ì ˆë˜ê³  ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n\nê·¸ë˜í”„2 : ì›”í‰ê·  ì½”ìŠ¤í”¼200ì§€ìˆ˜(ì ìƒ‰) ë° í–‰ì‚¬ê°€ê²© ë²”ìœ„(ì²­ìƒ‰)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBacktesting ì„±ê³¼\nì§€ë‚œ 5ë…„ê°„(2020~2024) VWì–‘ë§¤ë„ì™€ ì½”ìŠ¤í”¼200ì§€ìˆ˜ / OTM 5% ì–‘ë§¤ë„ë¥¼ ë¹„êµí•´ë³´ì•˜ìŠµë‹ˆë‹¤.\ní‘œ1 : ì—°ë„ë³„ ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ë° ì½”ìŠ¤í”¼200ì§€ìˆ˜ ì„±ê³¼\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYEAR\nExpiry\nNoExercise\nPremium\nInterest\nLoss\nRevenue\nReturn\nReturn_K200\n\n\n\n\n2020\n50\n0.74\n4385\n184\n5338\n-769\n-0.04\n0.33\n\n\n2021\n47\n0.91\n2974\n142\n728\n2387\n0.12\n0.01\n\n\n2022\n52\n0.79\n3304\n421\n4152\n-427\n-0.03\n-0.26\n\n\n2023\n52\n0.81\n2456\n732\n1758\n1430\n0.08\n0.23\n\n\n2024\n49\n0.80\n3697\n719\n3454\n962\n0.05\n-0.11\n\n\n\n\n\ní‘œ2 : ì—°ë„ë³„ ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ë° ì½”ìŠ¤í”¼200ì§€ìˆ˜ ì„±ê³¼\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYEAR\nExpiry\nNoExercise\nPremium\nInterest\nLoss\nRevenue\nReturn\nReturn_K200\n\n\n\n\n2020\n12\n0.58\n16507\n847\n37851\n-20497\n-0.23\n0.33\n\n\n2021\n12\n1.00\n9887\n605\n0\n10492\n0.13\n0.01\n\n\n2022\n12\n0.50\n10207\n1819\n15098\n-3071\n-0.04\n-0.26\n\n\n2023\n12\n0.83\n4591\n3176\n884\n6883\n0.09\n0.23\n\n\n2024\n12\n0.75\n9850\n3072\n9589\n3333\n0.04\n-0.11\n\n\n\n\n\n\n\n\n\n\n\nYEAR : ì‚°ì¶œëŒ€ìƒ ì—°ë„ / Expiry : ì˜µì…˜ë§Œê¸° íšŸìˆ˜ (í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµ ë°œìƒ íšŸìˆ˜)\nNoExercise : ì˜µì…˜ë§Œê¸°ì¼ì— í–‰ì‚¬ë˜ì§€ ì•Šì€ ë¹„ìœ¨ (ì†ì‹¤ì´ ë°œìƒí•˜ì§€ ì•Šì€ ê±°ë˜ì¼ ë¹„ìœ¨)\nPremium : í‰ê·  ì˜µì…˜ í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµ (ë§Œì›) / Interest : ì›ê¸ˆ ë° í”„ë¦¬ë¯¸ì—„ì—ì„œ ë°œìƒí•œ í‰ê·  ì´ììˆ˜ìµ (ë§Œì›)\nLoss : ì˜µì…˜ê¶Œë¦¬í–‰ì‚¬ë¡œ ì¸í•œ í‰ê·  ì†ì‹¤ (ë¯¸í–‰ì‚¬ í¬í•¨) / Revenue : í‰ê·  ì´ìµ (Premium + Interest - Loss)\nReturn : í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì—°í™˜ì‚° ìˆ˜ìµë¥  / Return_K200 : ì½”ìŠ¤í”¼200ì§€ìˆ˜ì˜ ì—°í™˜ì‚° ìˆ˜ìµë¥ \n\n\n\në³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì£¼ìš” ì„±ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\nì˜µì…˜ ë§¤ë„ì£¼ê¸° ì¶•ì†Œ(ì›”ê°„ \\(\\rightarrow\\) ì£¼ê°„) : í˜„ê¸ˆíë¦„ ê°œì„  ë° í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµ ê·¹ëŒ€í™”\n\n\nVWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ì—°í‰ê·  50íšŒì˜ ìˆ˜ìµì´ ë°œìƒí•˜ëŠ” ë°˜ë©´, ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” 12íšŒ(ì›”1íšŒ) ë°œìƒ.\n1íšŒ ë°œìƒ ìˆ˜ìµì€ 4ë°° ë¯¸ë§Œìœ¼ë¡œ ê°ì†Œí•˜ì—¬ í‰ê·  ìˆ˜ìµì´ ì¦ê°€í•˜ì˜€ê³ , ìˆ˜ìµì£¼ê¸°ê°€ ì§§ì•„ì§€ë©´ì„œ í˜„ê¸ˆìœ ë™ì„± ê°œì„ \n\n\ní–‰ì‚¬ê°€ê²© ë²”ìœ„ ì¡°ì •(5% \\(\\rightarrow\\) \\(\\sigma\\)ì—°ë™) : í¬íŠ¸í´ë¦¬ì˜¤ ì•ˆì •ì„± ì¦ê°€ ë° ë¦¬ìŠ¤í¬ ì¶•ì†Œ\n\n\nì¼ë°˜ ì–‘ë§¤ë„ ì „ëµì˜ ì†ì‹¤ë°œìƒë¹„ìœ¨(ê¶Œë¦¬í–‰ì‚¬ë¹„ìœ¨)ì€ ì‹œì¥ ìƒí™©ì— ë”°ë¼ 0~50%ê¹Œì§€ í° í­ìœ¼ë¡œ ë³€ë™\në°˜ë©´, ë³¸ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” í–‰ì‚¬ê°€ê²© ë²”ìœ„ë¥¼ ë³€ë™ì„± ìˆ˜ì¤€ì— ì¡°ì •í•˜ë¯€ë¡œ ë¹„ìœ¨ì´ 10~30%ìˆ˜ì¤€ìœ¼ë¡œ ì•ˆì •í™”\nì†ì‹¤ì— ëŒ€í•œ ì˜ˆì¸¡ê°€ëŠ¥ì„± ë° í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±ì´ ê°œì„ ë˜ì—ˆìœ¼ë©° 1íšŒ ì†ì‹¤ë„ ê°ë‚´ ê°€ëŠ¥í•œ ìˆ˜ì¤€ìœ¼ë¡œ ì¶•ì†Œ\n\n\nì†Œê²° : VWì–‘ë§¤ë„ ì „ëµì€ ìˆ˜ìµë¥ , ë¦¬ìŠ¤í¬ ì¸¡ë©´ì—ì„œ ì½”ìŠ¤í”¼200ì§€ìˆ˜ ë° ì¼ë°˜ ì–‘ë§¤ë„ ì „ëµì„ Outperform\n\n\nê·¸ë˜í”„3, 4 : ì§€ë‚œ 5ë…„ ë° 3ë…„ê°„ ì½”ìŠ¤í”¼200ì§€ìˆ˜, VWì–‘ë§¤ë„, 5%ì–‘ë§¤ë„ ëˆ„ì ìˆ˜ìµë¥  ë° ì´ˆê³¼ìˆ˜ìµ\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ní‘œ3 : ì—°ë„ë³„ VWì–‘ë§¤ë„, ì¼ë°˜ ì–‘ë§¤ë„, ì½”ìŠ¤í”¼200ì§€ìˆ˜ì˜ ìˆ˜ìµë¥  ë° ë³€ë™ì„±(ì›”ê°„ìˆ˜ìµë¥ ì˜ ì—°í™˜ì‚°)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYEAR\nReturn_main\nReturn_sub\nReturn_K200\nVol_main\nVol_sub\nVol_K200\n\n\n\n\n2020\n-0.04\n-0.23\n0.33\n0.08\n0.19\n0.27\n\n\n2021\n0.12\n0.13\n0.01\n0.03\n0.02\n0.11\n\n\n2022\n-0.03\n-0.04\n-0.26\n0.08\n0.08\n0.25\n\n\n2023\n0.08\n0.09\n0.23\n0.04\n0.01\n0.17\n\n\n2024\n0.05\n0.04\n-0.11\n0.07\n0.08\n0.16\n\n\n\n\n\nê·¸ë˜í”„ì™€ í‘œë¥¼ í†µí•´ VWì–‘ë§¤ë„ ì „ëµì´ íƒ€ ì „ëµ ëŒ€ë¹„ ì•ˆì •ì ì´ê³  ë†’ì€ ìˆ˜ìµì„ ì‹¤í˜„í•˜ì˜€ìŒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n\ní•œê³„ì \nê·¸ëŸ¬ë‚˜, í–‰ì‚¬ê°€ê²© ë²”ìœ„ê°€ ì „ì¼ V-Kospi200 ì§€ìˆ˜ì— ë”°ë¼ ê²°ì •ë˜ë¯€ë¡œ ì˜µì…˜ ë§¤ë„ì¼ ë° ë³´ìœ ê¸°ê°„ ì¤‘ V-Kospi200 ì§€ìˆ˜ê°€ ê¸‰ë“±ë½í•˜ëŠ” ê²½ìš° ì‹œì¥ ë³€ë™ì„±ì„ ì ì ˆíˆ ë°˜ì˜ë˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\n\në‹¹ì¼ ì¥ì¤‘ ì§€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê² ìœ¼ë‚˜ ì¢…ê°€ë³´ë‹¤ ì‹ ë¢°ì„±ì´ ë†’ë‹¤ê³  ë³´ê¸° ì–´ë µê³ , ë‹¹ì¼ ì¢…ê°€ëŠ” ë§¤ë„ì‹œì ì—ì„œ í™•ì¸ ë¶ˆê°€\në³´ìœ ê¸°ê°„ ì¤‘ V-Kospi200ì˜ ë³€ë™ì— ë”°ë¼ ì˜µì…˜ í–‰ì‚¬ê°€ê²©ì„ ë¦¬ë°¸ëŸ°ì‹±í•˜ë©´ ë³´ë‹¤ ì •í™•íˆ ë³€ë™ì„±ì„ ë°˜ì˜í•  ìˆ˜ ìˆìœ¼ë‚˜, ì¦ì€ ê±°ë˜ë¡œ ì¸í•´ ìˆ˜ë°˜ë˜ëŠ” ë¹„ìš©ì´ ê¸‰ì¦\nì‹œì¥ ë³€ë™ì„±ì´ ì ì ˆíˆ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ê²½ìš°, í”„ë¦¬ë¯¸ì—„ ìˆ˜ìµì„±ì´ ë‚®ì•„ì§€ê³  ì˜µì…˜ ê¶Œë¦¬í–‰ì‚¬ ìœ„í—˜ì´ ì¦ê°€í•  ìˆ˜ ìˆìŒ\n\në˜í•œ, ì‹¤ì œë¡œ VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ìš´ì˜í•œë‹¤ë©´ ê±°ë˜ë¹„ìš© ë° ìœ ë™ì„± ë“±ì˜ í•œê³„ì ìœ¼ë¡œ ì¸í•´ ë³´ì™„í•´ì•¼í•  ì ì´ ìˆìœ¼ë©° ì´ ê³¼ì •ì—ì„œ ì´ˆê³¼ìˆ˜ìµë¥  ë“±ì˜ ì„±ê³¼ê°€ ë‹¤ì†Œ í¬ì„ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.\n\nìˆ˜ìˆ˜ë£Œ/ìœ ë™ì„± ë“±ìœ¼ë¡œ ì¸í•´ ìì£¼ ì˜µì…˜ì„ ë§¤ë„í•˜ëŠ” ì „ëµ íŠ¹ì„±ìƒ ê±°ë˜ë¹„ìš© ìƒìŠ¹ì´ ìˆ˜ë°˜ë¨\nì›”ë¬¼ ì˜µì…˜ ëŒ€ë¹„ ìœ„í´ë¦¬ì˜µì…˜ì˜ ìœ ë™ì„±ì´ ë‚®ì•„, ë³€ë™ì„± í™•ëŒ€ êµ­ë©´ì—ì„œ ì›í•˜ëŠ” ìœ„í´ë¦¬ì˜µì…˜ì˜ ê±°ë˜ê°€ ì—†ì„ ìˆ˜ ìˆìŒ",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html#í¬íŠ¸í´ë¦¬ì˜¤-ê²€ì¦-25.3.13-4.10",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html#í¬íŠ¸í´ë¦¬ì˜¤-ê²€ì¦-25.3.13-4.10",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "4. í¬íŠ¸í´ë¦¬ì˜¤ ê²€ì¦ (â€™25.3.13 ~ 4.10)",
    "text": "4. í¬íŠ¸í´ë¦¬ì˜¤ ê²€ì¦ (â€™25.3.13 ~ 4.10)\ní¬íŠ¸í´ë¦¬ì˜¤ì˜ ì„±ê³¼ ê²€ì¦ì„ ìœ„í•´ â€™25ë…„ 3ì›” ì˜µì…˜ë§Œê¸°ì¼ë¶€í„° 1ê°œì›”ê°„ì˜ ì„±ê³¼ë¥¼ ì¸¡ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\nBacktestingê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ì˜€ìœ¼ë©°, ë‚ ì§œ ë“± ì¼ë¶€ë¥¼ ì œì™¸í•˜ê³  ë™ì¼ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\ní‘œ4 : ê²€ì¦ê¸°ê°„(â€™25.3.13 ~ 4.10) VWì–‘ë§¤ë„ ë° ì¼ë°˜ ì–‘ë§¤ë„ ì „ëµ ì„±ê³¼\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBAS_DD\nGroup\nPremium\nInterest\nLoss\nRevenue\nReturn\n\n\n\n\n20250313\nMonthly\n12653\n2400\n0\n15053\n0.02\n\n\n20250313\nVol-adj. Weekly\n5624\n596\n2929\n3291\n0.00\n\n\n20250320\nVol-adj. Weekly\n2687\n587\n0\n3274\n0.00\n\n\n20250327\nVol-adj. Weekly\n4283\n578\n20214\n-15353\n-0.02\n\n\n20250403\nVol-adj. Weekly\n11594\n578\n0\n12173\n0.01\n\n\n81001363\nVol-adj. Weekly Sum\n24188\n2338\n23142\n3384\n0.00\n\n\n\n\n\nê²€ì¦ê¸°ê°„ ì¤‘ VWì–‘ë§¤ë„ ì „ëµì€ ì˜µì…˜ì„ 4íšŒ ë§¤ë„í•˜ì˜€ê³ , ì¼ë°˜ ì–‘ë§¤ë„ëŠ” 1íšŒ ë§¤ë„í•˜ì˜€ìŠµë‹ˆë‹¤.\nVWì–‘ë§¤ë„ ì „ëµì˜ í”„ë¦¬ë¯¸ì—„ì´ 4íšŒ ë°œìƒí•˜ë©´ì„œ ìˆ˜ìµì„±ì€ ê°œì„ ë˜ì—ˆì§€ë§Œ, ì„¸ë²ˆì§¸ ë§¤ë„ì‹œê¸°ì— í° ì†ì‹¤ì´ ë°œìƒí•˜ë©´ì„œ ìˆœì´ìµì´ ì•…í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ë²¡í…ŒìŠ¤íŒ… ê²°ê³¼ì™€ ë¹„êµí•  ë•Œ ìƒë°˜ëœ ê²°ê³¼ì…ë‹ˆë‹¤.\nê·¸ ì›ì¸ì€ ìµœê·¼ íŠ¸ëŸ¼í”„ í–‰ì •ë¶€ì˜ ê´€ì„¸ ë¶€ê³¼ ì •ì±…ì˜ ì˜í–¥ìœ¼ë¡œ, ì¦ì‹œê°€ ì´ë¡€ì ìœ¼ë¡œ ê¸‰ë“±ë½í•œ ë°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nê·¸ë˜í”„5 : ê²€ì¦ê¸°ê°„(â€™25.3.13 ~ 4.10) Kospi200 ë° V-Kospi200 ì§€ìˆ˜ ì¶”ì´\n\n\n\n\n\n\n\n\n\në¨¼ì €, 3.27ì¼ ì˜ˆìƒë³€ë™ì„±(V-K200)ì´ ë‚®ì•„ í–‰ì‚¬ê°€ê²© ë²”ìœ„ê°€ ì¢ê²Œ í˜•ì„±ë˜ì–´ VWì–‘ë§¤ë„ ì „ëµì´ ì‹¤í–‰ë˜ì—ˆê³ , ì´í›„ ê´€ì„¸ ì •ì±… ì˜í–¥ìœ¼ë¡œ ì§€ìˆ˜ê°€ ê¸‰ë½í•˜ë©´ì„œ í° ì†ì‹¤ì´ ë°œìƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në°˜ë©´ ì›”ë³„ ì „ëµì€ ë§Œê¸° ì§ì „ì— ê´€ì„¸ê°€ ì—°ê¸°ë˜ë©´ì„œ ì¦ì‹œê°€ íšŒë³µí•˜ì˜€ê³ (304 &gt; 325), ì†ì‹¤ì„ í”¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në‹¤ì†Œ ì•„ì‰¬ìš´ ê²°ê³¼ì´ë‚˜, VWì–‘ë§¤ë„ ì „ëµì˜ í•œê³„ì ê³¼ íŠ¹ìˆ˜í•œ ìƒí™©ì—ì„œëŠ” ì˜¤íˆë ¤ ë¶ˆë¦¬í•˜ë‹¤ëŠ” ì ì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nVWì–‘ë§¤ë„ ì „ëµì€ ì‹œì¥ ë³€ë™ì„±ì´ ì ì ˆíˆ ë°˜ì˜ë˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ìˆê³ , ì´ ê²½ìš° ì˜ˆê¸°ì¹˜ ëª»í•œ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ\nì˜µì…˜ ë§Œê¸°ê°€ ì§§ì€ ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ìˆ˜ìµì„±, ìœ ë™ì„± ë“±ì—ì„œ ì¥ì ì´ ìˆìœ¼ë‚˜, ì¦ì‹œê°€ ê¸‰ë½ í›„ íšŒë³µí•˜ëŠ” ìƒí™©ì—ì„œëŠ” ë§Œê¸°ê°€ ê¸´ ì˜µì…˜ì´ ìœ ë¦¬í•  ìˆ˜ ìˆìŒ",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ì‚¬ë¡€_ê³¼ì œ.html#appendix-python-r-code",
    "href": "ì‚¬ë¡€_ê³¼ì œ.html#appendix-python-r-code",
    "title": "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ",
    "section": "5. Appendix : Python, R code",
    "text": "5. Appendix : Python, R code\n\nPyhon code : ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬\n\nimport requests\nimport json\nimport pandas as pd\nimport aiohttp\nimport asyncio\n\n# KRX OpenAPI ì˜ˆì‹œ\nurl = 'http://data-dbg.krx.co.kr/svc/sample/apis/drv/opt_bydd_trd?basDd=20250312'\nheaders = {'AUTH_KEY': '74D1B99DFBF345BBA3FB4476510A4BED4C78D13A'}\nres = requests.get(url=url, headers=headers)\nres.text\n\n# KRX OpenAPIë¥¼ ì´ìš©í•œ ì˜µì…˜ ë°ì´í„° ìˆ˜ì§‘ (ë„¤íŠ¸ì›Œí¬ ë³‘ë ¬ ì²˜ë¦¬)\nidx_data = pd.read_csv('data/idx_data.csv')\nurl = 'http://data-dbg.krx.co.kr/svc/apis/drv/opt_bydd_trd?basDd='\nkey = 'BDFA640BBCE84C4B8A465EA024D50D6F3FD909FF'\n\nasync def fetch(session, url, bas_dd):\n    async with session.get(url + bas_dd, headers={'AUTH_KEY': key}) as response:\n        return await response.json()\n\nasync def fetch_all(bas_dd_list, url):\n    async with aiohttp.ClientSession() as session:\n        tasks = [fetch(session, url, str(bas_dd)) for bas_dd in bas_dd_list]\n        return await asyncio.gather(*tasks)\n\nasync def main():\n    bas_dd_list = idx_data['BAS_DD'].astype(str).tolist()\n    responses = await fetch_all(bas_dd_list, url)\n\n    data_list = [pd.json_normalize(res['OutBlock_1']) for res in responses if 'OutBlock_1' in res and res['OutBlock_1']]\n    options = pd.concat(data_list, axis=0, ignore_index=True)\n\n    # CSV ì €ì¥\n    options.to_csv(\"options_data.csv\", encoding=\"utf-8-sig\", index=False)\n    print(\"complete\")\n\n\n\nR code 1 : ë°ì´í„° ê°€ê³µ, Backtesting\n\nrm(list=ls())\nlibrary(tidyverse)\nlibrary(knitr)\nlibrary(patchwork)\n\n# 1. ì›ë³¸ë°ì´í„° ì¤€ë¹„\noptions_raw &lt;- read_csv(\"data/options_data.csv\") %&gt;% tibble()\nidx_raw &lt;- read_csv(\"data/idx_data.csv\") %&gt;% tibble()\nmmf_raw &lt;- read_csv(\"data/mmf.csv\") %&gt;% tibble()\n\n# 2-1. ë°ì´í„° ì „ì²˜ë¦¬ : KRX openAPI ì˜µì…˜ë°ì´í„° ì „ì²˜ë¦¬\noptions &lt;- options_raw %&gt;% \n  # K200, WK200 ì´ì™¸ì˜ ì˜µì…˜ ì œì™¸\n  filter(substr(PROD_NM,1,3)==\"ì½”ìŠ¤í”¼\") %&gt;%\n  # ì¢…ê°€ê°€ ì—†ëŠ” ê²½ìš° ìµì¼ ê¸°ì¤€ê°€ê²©(ì´ë¡ ê°€ê²©) ì‚¬ìš©\n  mutate(PRICE = as.double(if_else(TDD_CLSPRC==\"-\",NXTDD_BAS_PRC,TDD_CLSPRC))) %&gt;% \n  drop_na(PRICE) %&gt;% \n  select(BAS_DD,ISU_NM,PRICE,ACC_TRDVOL) %&gt;% \n  separate(ISU_NM, into=c(\"PROD\",\"RGHT\",\"EXP\",\"EXER_PRC\"), sep=' ') %&gt;%\n  mutate(EXER_PRC=as.double(EXER_PRC),\n         EXPMM=if_else(PROD==\"ì½”ìŠ¤í”¼200\",substr(EXP,3,6),substr(EXP,1,4)),\n         EXPWW=if_else(PROD==\"ì½”ìŠ¤í”¼200\",2,as.integer(substr(EXP,6,6)))) %&gt;% \n  filter(EXER_PRC&gt;min(idx_raw$KOSPI200)*0.85,\n         EXER_PRC&lt;max(idx_raw$KOSPI200)*1.15,\n         PROD!=\"ì½”ìŠ¤í”¼ìœ„í´ë¦¬M\") %&gt;% # ì›”ìš”ì¼ ë§Œê¸° ìœ„í´ë¦¬ì˜µì…˜ ì œì™¸\n  mutate(PRIOR=as.integer(EXPMM)*10+EXPWW) # ë§Œê¸°ê°€ ì§§ì€ ìˆœìœ¼ë¡œ ìš°ì„ ìˆœìœ„ ë¶€ì—¬\n\n# 2-2. ë°ì´í„° ì „ì²˜ë¦¬ : ì˜µì…˜ ë§Œê¸°ì¼ ë°ì´í„° ìƒì„±\ntarget_date &lt;- options %&gt;% \n  distinct(.,BAS_DD, PRIOR) %&gt;% \n  arrange(PRIOR, desc(BAS_DD)) %&gt;% \n  group_by(PRIOR) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  distinct(BAS_DD) %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  filter(BAS_DD&lt;20241231, BAS_DD&gt;20200101)\n\n# 2-3. ë°ì´í„° ì „ì²˜ë¦¬ : KRX ì •ë³´ë°ì´í„°ì‹œìŠ¤í…œ K200 ë° V-K200ì§€ìˆ˜ ì „ì²˜ë¦¬\nidx_data &lt;- idx_raw %&gt;%\n  arrange(BAS_DD) %&gt;% \n  mutate(LAG_K200=lag(KOSPI200),\n         LAG_VK200=lag(VKOSPI200))\n\nK200_portfolio=idx_data %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  mutate(RATE=(KOSPI200-LAG_K200)/LAG_K200,\n         YEAR = substr(BAS_DD, 1, 4),\n         YM = ym(substr(BAS_DD, 1, 6))) %&gt;%\n  group_by(YEAR, YM) %&gt;%\n  summarise(RATE_K200 = if_else(is.na(prod(1 + RATE)),0,prod(1 + RATE)),\n            MMF = mean(MMF)/100,\n            .groups = \"drop\") %&gt;%\n  ungroup()\n\n# 3-1. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± : VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ì´ˆì •ë³´ ìƒì„±\ntarget_info &lt;- target_date %&gt;% \n  left_join(options, by=\"BAS_DD\") %&gt;% \n  distinct(BAS_DD,PRIOR) %&gt;% \n  arrange(desc(BAS_DD),PRIOR) %&gt;% \n  group_by(BAS_DD) %&gt;% \n  # ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ì˜µì…˜ì„ ì œì™¸í•˜ê³  ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì˜µì…˜ ì„ íƒ\n  slice(2) %&gt;% \n  ungroup() %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  left_join(idx_data, by=\"BAS_DD\") %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ ë° ë‹¨ê¸°ê¸ˆë¦¬(MMF) ê³„ì‚°\n  mutate(DIFF_DAY=as.integer(ymd(lag(BAS_DD))-ymd(BAS_DD)),\n         MMF=MMF*0.01) %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ” ì‹œì¥ê¸°ëŒ€ë³€ë™ì„± ê³„ì‚°(V-K200í™œìš©)\n  mutate(VOL=LAG_VK200*sqrt(DIFF_DAY)/sqrt(365)/100) %&gt;%\n  # ë³€ë™ì„±ì— ë”°ë¥¸ ì˜µì…˜ í–‰ì‚¬ê°€ê²© ìƒë‹¨(2.5ë‹¨ìœ„ ì˜¬ë¦¼) ë° í•˜ë‹¨(2.5ë‹¨ìœ„ ë‚´ë¦¼) ê³„ì‚°\n  mutate(TARGET_C_K=ceiling(KOSPI200*(1+VOL)*0.4)/0.4,\n         TARGET_P_K=floor(KOSPI200*(1-VOL)*0.4)/0.4) %&gt;% \n  drop_na(DIFF_DAY) %&gt;% \n  select(BAS_DD,VOL,DIFF_DAY,MMF,KOSPI200,LAG_VK200,PRIOR,TARGET_C_K,TARGET_P_K)\n\n# 3-2. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± : VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê±°ë˜ëŒ€ìƒ ì˜µì…˜ ì •ë³´ ìƒì„±\ntarget_options &lt;- target_info %&gt;% \n  select(BAS_DD, PRIOR, TARGET_C_K, TARGET_P_K) %&gt;% \n  pivot_longer(cols=c(\"TARGET_C_K\",\"TARGET_P_K\"),names_to = \"GRP\", values_to = \"EXER_PRC\") %&gt;% \n  mutate(RGHT=substr(GRP,8,8)) %&gt;% \n  left_join(options,by=c(\"BAS_DD\",\"PRIOR\",\"RGHT\",\"EXER_PRC\")) %&gt;%\n  select(BAS_DD,GRP,PRICE,ACC_TRDVOL) %&gt;% \n  pivot_wider(names_from = \"GRP\", values_from = c(\"PRICE\",\"ACC_TRDVOL\"))\n\n# ì›ê¸ˆ 100ì–µì› ê°€ì •\ncash = 10000*10000*100\n\n# 4. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬í˜„ : VWì–‘ë§¤ë„ ì „ëµì„ êµ¬í˜„í•˜ì—¬ ì¼ìë³„ ì†ìµ ê³„ì‚°\nportfolio &lt;- target_info %&gt;% \n  left_join(target_options,by=\"BAS_DD\") %&gt;% \n  arrange(BAS_DD) %&gt;% \n  # ì›ê¸ˆì— ë”°ë¥¸ ì˜µì…˜ ë§¤ë„ìˆ˜ëŸ‰ ê³„ì‚°\n  mutate(SELL_AMT=cash/250000/KOSPI200) %&gt;% \n  # ì˜µì…˜ í”„ë¦¬ë¯¸ì—„(ë§¤ë„ìˆ˜ìµ)) ê³„ì‚°\n  mutate(PREMIUM=SELL_AMT*(PRICE_TARGET_C_K+PRICE_TARGET_P_K)*250000) %&gt;% \n  # ì›ê¸ˆ ë° í”„ë¦¬ë¯¸ì—„ì˜ MMF ì´ììˆ˜ìµ ë° ê¶Œë¦¬í–‰ì‚¬ì†ì‹¤ ê³„ì‚°\n  mutate(INTEREST=(cash+replace_na(PREMIUM,0))*MMF*DIFF_DAY/365,\n         EXERCISE=(if_else(lead(KOSPI200)-TARGET_C_K&gt;0,lead(KOSPI200)-TARGET_C_K,0)+\n                     if_else(TARGET_P_K-lead(KOSPI200)&gt;0,TARGET_P_K-lead(KOSPI200),0))*250000*SELL_AMT) %&gt;% \n  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ì†ìµ ê³„ì‚°(ì›ê¸ˆ 100ì–µ ê°€ì •, ë‹¹ì¼ íˆ¬ìì‹œ ë‹¤ìŒì£¼ ì‹¤í˜„ì†ìµì„ ì˜ë¯¸)\n  mutate(REVENUE=PREMIUM+INTEREST-EXERCISE) %&gt;% \n  # ê±°ë˜ëŒ€ìƒ ì˜µì…˜ì´ ìƒì¥ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš°, MMFìˆ˜ìµë§Œ ê³ ë ¤\n  mutate(REVENUE=if_else(is.na(REVENUE),INTEREST,REVENUE)) %&gt;% \n  mutate(RATE=REVENUE/cash)  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ \n\n# 5. ë¹„êµêµ° í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± : ì›”ë³„ 5% OTM ì–‘ë§¤ë„ ì „ëµ\noptions2 &lt;- options %&gt;% \n  filter(PROD==\"ì½”ìŠ¤í”¼200\")\n\n# ì˜µì…˜ ë§Œê¸°ì¼(ë§¤ë‹¬) ìƒì„±\ntarget_date2 &lt;- options2 %&gt;% \n  distinct(.,BAS_DD, PRIOR) %&gt;% \n  arrange(PRIOR, desc(BAS_DD)) %&gt;% \n  group_by(PRIOR) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  distinct(BAS_DD) %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  filter(BAS_DD&lt;20241231, BAS_DD&gt;20200101)\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë³¸ ì •ë³´ ìƒì„±\ntarget_info2 &lt;- target_date2 %&gt;% \n  left_join(options2, by=\"BAS_DD\") %&gt;% \n  distinct(BAS_DD,PRIOR) %&gt;% \n  arrange(desc(BAS_DD),PRIOR) %&gt;% \n  group_by(BAS_DD) %&gt;% \n  # ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ì˜µì…˜ì„ ì œì™¸í•˜ê³  ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì˜µì…˜ ì„ íƒ\n  slice(2) %&gt;% \n  ungroup() %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  left_join(idx_data, by=\"BAS_DD\") %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ ë° ë‹¨ê¸°ê¸ˆë¦¬(MMF) ê³„ì‚°\n  mutate(DIFF_DAY=as.integer(ymd(lag(BAS_DD))-ymd(BAS_DD)),\n         MMF=MMF*0.01,\n         VOL=0.05) %&gt;%\n  # ë³€ë™ì„±ì— ë”°ë¥¸ ì˜µì…˜ í–‰ì‚¬ê°€ê²© ìƒë‹¨(2.5ë‹¨ìœ„ ì˜¬ë¦¼) ë° í•˜ë‹¨(2.5ë‹¨ìœ„ ë‚´ë¦¼) ê³„ì‚°\n  mutate(TARGET_C_K=ceiling(KOSPI200*(1+VOL)*0.4)/0.4,\n         TARGET_P_K=floor(KOSPI200*(1-VOL)*0.4)/0.4) %&gt;% \n  mutate(DIFF_DAY=if_else(is.na(DIFF_DAY),28,DIFF_DAY)) %&gt;% \n  select(BAS_DD,VOL,DIFF_DAY,MMF,KOSPI200,LAG_VK200,PRIOR,TARGET_C_K,TARGET_P_K)\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê±°ë˜ëŒ€ìƒ ì˜µì…˜\ntarget_options2 &lt;- target_info2 %&gt;% \n  select(BAS_DD, PRIOR, TARGET_C_K, TARGET_P_K) %&gt;% \n  pivot_longer(cols=c(\"TARGET_C_K\",\"TARGET_P_K\"),names_to = \"GRP\", values_to = \"EXER_PRC\") %&gt;% \n  mutate(RGHT=substr(GRP,8,8)) %&gt;% \n  left_join(options2,by=c(\"BAS_DD\",\"PRIOR\",\"RGHT\",\"EXER_PRC\")) %&gt;%\n  select(BAS_DD,GRP,PRICE,ACC_TRDVOL) %&gt;% \n  pivot_wider(names_from = \"GRP\", values_from = c(\"PRICE\",\"ACC_TRDVOL\"))\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ êµ¬í˜„\nportfolio2 &lt;- target_info2 %&gt;% \n  left_join(target_options2,by=\"BAS_DD\") %&gt;% \n  arrange(BAS_DD) %&gt;% \n  # ì›ê¸ˆì— ë”°ë¥¸ ì˜µì…˜ ë§¤ë„ìˆ˜ëŸ‰ ê³„ì‚°\n  mutate(SELL_AMT=cash/250000/KOSPI200) %&gt;% \n  # ì˜µì…˜ í”„ë¦¬ë¯¸ì—„(ë§¤ë„ìˆ˜ìµ)) ê³„ì‚°\n  mutate(PREMIUM=SELL_AMT*(PRICE_TARGET_C_K+PRICE_TARGET_P_K)*250000) %&gt;% \n  # ì›ê¸ˆ ë° í”„ë¦¬ë¯¸ì—„ì˜ MMF ì´ììˆ˜ìµ ë° ê¶Œë¦¬í–‰ì‚¬ì†ì‹¤ ê³„ì‚°\n  mutate(INTEREST=(cash+replace_na(PREMIUM,0))*MMF*DIFF_DAY/365,\n         EXERCISE=(if_else(lead(KOSPI200)-TARGET_C_K&gt;0,lead(KOSPI200)-TARGET_C_K,0)+\n                     if_else(TARGET_P_K-lead(KOSPI200)&gt;0,TARGET_P_K-lead(KOSPI200),0))*250000*SELL_AMT) %&gt;% \n  mutate(EXERCISE=if_else(is.na(EXERCISE),0,EXERCISE)) %&gt;% \n  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ì†ìµ ê³„ì‚°(ì›ê¸ˆ 100ì–µ ê°€ì •, ë‹¹ì¼ íˆ¬ìì‹œ ë‹¤ìŒì£¼ ì‹¤í˜„ì†ìµì„ ì˜ë¯¸)\n  mutate(REVENUE=PREMIUM+INTEREST-EXERCISE) %&gt;% \n  # ê±°ë˜ëŒ€ìƒ ì˜µì…˜ì´ ìƒì¥ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš°, MMFìˆ˜ìµë§Œ ê³ ë ¤\n  mutate(REVENUE=if_else(is.na(REVENUE),INTEREST,REVENUE)) %&gt;% \n  mutate(RATE=REVENUE/cash) # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ \n\n# 6. ì„±ê³¼ë¶„ì„ : VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤\nperformance &lt;- portfolio %&gt;%\n  drop_na(PREMIUM, EXERCISE) %&gt;%\n  mutate(YEAR = substr(BAS_DD, 1, 4),\n         YM = ym(substr(BAS_DD, 1, 6))) %&gt;%\n  group_by(YEAR, YM) %&gt;%\n  summarise(PREMIUM = sum(PREMIUM),\n            INTEREST = sum(INTEREST),\n            EXERCISE = sum(EXERCISE),\n            REVENUE = sum(REVENUE),\n            RATE = prod(1 + RATE),\n            .groups = \"drop\") %&gt;%\n  ungroup()\n\n# 6. ì„±ê³¼ë¶„ì„ : ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤\nperformance2 &lt;- portfolio2 %&gt;%\n  drop_na(PREMIUM, EXERCISE) %&gt;%\n  mutate(YEAR = substr(BAS_DD, 1, 4),\n         YM = ym(substr(BAS_DD, 1, 6))) %&gt;%\n  group_by(YEAR, YM) %&gt;%\n  summarise(PREMIUM = sum(PREMIUM),\n            INTEREST = sum(INTEREST),\n            EXERCISE = sum(EXERCISE),\n            REVENUE = sum(REVENUE),\n            RATE = prod(1 + RATE),\n            .groups = \"drop\") %&gt;%\n  ungroup()\n\n# ì‹œê°í™” ë“±\ngraph1_1 &lt;- performance %&gt;%\n  arrange(YM) %&gt;%\n  left_join(K200_portfolio,by=c(\"YEAR\",\"YM\")) %&gt;% \n  mutate(CUM_RATE = cumprod(RATE) * 100 - 100,\n         CUM_RATE_K200 = cumprod(RATE_K200) * 100 - 100) %&gt;% \n  bind_rows(tibble(YM=ym(201912),CUM_RATE=0,CUM_RATE_K200=0))\n  \n\ngraph1_2 &lt;- performance2 %&gt;%\n  arrange(YM) %&gt;%\n  left_join(K200_portfolio,by=c(\"YEAR\",\"YM\")) %&gt;% \n  mutate(CUM_RATE = cumprod(RATE) * 100 - 100,\n         CUM_RATE_K200 = cumprod(RATE_K200) * 100 - 100) %&gt;% \n  bind_rows(tibble(YM=ym(201912),CUM_RATE=0,CUM_RATE_K200=0))\n\ngraph1_3 &lt;- graph1_1 %&gt;%\n  inner_join(graph1_2, by = \"YM\", suffix = c(\"_1\", \"_2\")) %&gt;%\n  mutate(REVENUE_DIFF = (REVENUE_1 - REVENUE_2) / 1e8)\n\ngraph2_1 &lt;- performance %&gt;%\n  arrange(YM) %&gt;%\n  left_join(K200_portfolio,by=c(\"YEAR\",\"YM\")) %&gt;% \n  filter(as.integer(YEAR) &gt; 2021) %&gt;%\n  mutate(CUM_RATE = cumprod(RATE) * 100 - 100,\n         CUM_RATE_K200 = cumprod(RATE_K200) * 100 - 100) %&gt;% \n  bind_rows(tibble(YM=ym(202112),CUM_RATE=0,CUM_RATE_K200=0))\n\ngraph2_2 &lt;- performance2 %&gt;%\n  arrange(YM) %&gt;%\n  left_join(K200_portfolio,by=c(\"YEAR\",\"YM\")) %&gt;% \n  filter(as.integer(YEAR) &gt; 2021) %&gt;%\n  mutate(CUM_RATE = cumprod(RATE) * 100 - 100,\n         CUM_RATE_K200 = cumprod(RATE_K200) * 100 - 100) %&gt;% \n  bind_rows(tibble(YM=ym(202112),CUM_RATE=0,CUM_RATE_K200=0))\n\ngraph2_3 &lt;- graph2_1 %&gt;%\n  inner_join(graph2_2, by = \"YM\", suffix = c(\"_1\", \"_2\")) %&gt;%\n  mutate(REVENUE_DIFF = (REVENUE_1 - REVENUE_2) / 1e8)\n\ngraph3_1 &lt;- portfolio %&gt;%\n  mutate(YM = ym(substr(BAS_DD, 1, 6))) %&gt;%\n  group_by(YM) %&gt;%\n  summarise(TargetVol=mean(VOL),\n            Kospi200=mean(KOSPI200)) %&gt;% ungroup()\n\ngraph1=ggplot() +\n  geom_line(data = graph1_1, aes(x = YM, y = CUM_RATE, color = \"Vol-adj. Weekly\"), size = 1) +\n  geom_point(data = graph1_1, aes(x = YM, y = CUM_RATE, color = \"Vol-adj. Weekly\"), shape = 16, size = 2) +\n  geom_line(data = graph1_2, aes(x = YM, y = CUM_RATE, color = \"5% OTM Monthly\"), size = 1) +\n  geom_point(data = graph1_2, aes(x = YM, y = CUM_RATE, color = \"5% OTM Monthly\"), shape = 16, size = 2) +\n  geom_line(data = graph1_1, aes(x = YM, y = CUM_RATE_K200, color = \"Kospi 200\"), size = 1, alpha=0.7) +\n  geom_point(data = graph1_1, aes(x = YM, y = CUM_RATE_K200, color = \"Kospi 200\"), shape = 16, size = 2,alpha=0.7) +\n  geom_bar(data = graph1_3, aes(x = YM, y = REVENUE_DIFF * 3),\n           stat = \"identity\", alpha = 0.5, fill = \"gray\") +\n  scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +\n  scale_y_continuous(limits = c(-30, 50), breaks = seq(-30, 50, 10), labels = scales::number_format(accuracy = 0.1),\n                     sec.axis = sec_axis(~ . / 3, name = \"Overperform (100M)\", breaks = c(-10, -5, 0, 5, 10), labels = c(\"-10\", \"-5\", \"0\", \"5\", \"10\"))) +\n  scale_color_manual(values = c(\"Vol-adj. Weekly\" = \"red\", \"5% OTM Monthly\" = \"blue\", \"Kospi 200\" = \"Green\")) +\n  labs(x = NULL, y = \"Cumulative Return (%)\", color = \"\") +\n  theme_minimal() +\n  theme(legend.position = c(0.4, 0.93), legend.direction = \"horizontal\")\n\ngraph2=ggplot() +\n  geom_line(data = graph2_1, aes(x = YM, y = CUM_RATE, color = \"Vol-adj. Weekly\"), size = 1) +\n  geom_point(data = graph2_1, aes(x = YM, y = CUM_RATE, color = \"Vol-adj. Weekly\"), shape = 16, size = 2) +\n  geom_line(data = graph2_2, aes(x = YM, y = CUM_RATE, color = \"5% OTM Monthly\"), size = 1) +\n  geom_point(data = graph2_2, aes(x = YM, y = CUM_RATE, color = \"5% OTM Monthly\"), shape = 16, size = 2) +\n  geom_line(data = graph2_1, aes(x = YM, y = CUM_RATE_K200, color = \"Kospi 200\"), size = 1, alpha=0.7) +\n  geom_point(data = graph2_1, aes(x = YM, y = CUM_RATE_K200, color = \"Kospi 200\"), shape = 16, size = 2,alpha=0.7) +\n  geom_bar(data = graph2_3, aes(x = YM, y = REVENUE_DIFF * 3),\n           stat = \"identity\", alpha = 0.5, fill = \"gray\") +\n  scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +\n  scale_y_continuous(limits = c(-30, 20), breaks = seq(-30, 30, 10), labels = scales::number_format(accuracy = 0.1),\n                     sec.axis = sec_axis(~ . / 3, name = \"Overperform (100M)\", breaks = c(-10, -5, 0, 5, 10), labels = c(\"-10\", \"-5\", \"0\", \"5\", \"10\"))) +\n  scale_color_manual(values = c(\"Vol-adj. Weekly\" = \"red\", \"5% OTM Monthly\" = \"blue\", \"Kospi 200\" = \"Green\")) +\n  labs(x = NULL, y = \"Cumulative Return (%)\", color = \"\") +\n  theme_minimal() +\n  theme(legend.position = c(0.4, 0.93), legend.direction = \"horizontal\")\n\ngraph3=ggplot() +\n  geom_line(data = graph3_1, aes(x = YM, y = Kospi200, color = \"Kospi 200\"), size = 1) +\n  geom_point(data = graph3_1, aes(x = YM, y = Kospi200, color = \"Kospi 200\"), shape = 16, size = 2) +\n  geom_bar(data = graph3_1, aes(x = YM, y = TargetVol * 7000),\n           stat = \"identity\", alpha = 0.7, fill = \"blue\") +\n  geom_hline(yintercept = 200, size=0.5, color = \"black\", alpha=0.5)+\n  scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +\n  scale_y_continuous(limits = c(0, 500), breaks = seq(100, 500, 100),\n                     sec.axis = sec_axis(~ . / 7000, name = \"Strike Range(Monthly)\", breaks = c(0, 0.025,0.05,0.075, 0.1), labels = c(\"0\",\"5%\", \"10%\",\"15%\", \"20%\"))) +\n  scale_color_manual(values = c(\"Kospi 200\" = \"red\")) +\n  labs(x = NULL, y = \"Kospi 200\", color = \"\") +\n  theme_minimal() +\n  theme(legend.position = c(0.1, 0.93), legend.direction = \"horizontal\")\n\n# ìš”ì•½í‘œ 1 : VWí¬íŠ¸í´ë¦¬ì˜¤\ntable1 &lt;- portfolio %&gt;%\n  drop_na(PREMIUM, EXERCISE) %&gt;%\n  mutate(YEAR = substr(BAS_DD, 1, 4),\n         CNT=1,\n         NO=if_else(EXERCISE==0,1,0)) %&gt;%\n  group_by(YEAR) %&gt;%\n  summarise(Expiry = sum(CNT),\n            NoExercise = round(sum(NO)/sum(CNT),2),\n            Premium = round(mean(PREMIUM)/10000,0),\n            Interest = round(mean(INTEREST)/10000,0),\n            Loss = round(mean(EXERCISE)/10000,0),\n            Revenue = round(mean(REVENUE)/10000,0),\n            Return = round(prod(1 + RATE)-1,2),\n            .groups = \"drop\") %&gt;% \n  left_join(K200_portfolio %&gt;% group_by(YEAR) %&gt;% summarise(Return_K200=round(prod(RATE_K200)-1,2)),\n            by=\"YEAR\")\n\n# ìš”ì•½í‘œ 2 : ì¼ë°˜ í¬íŠ¸í´ë¦¬ì˜¤\ntable2 &lt;- portfolio2 %&gt;%\n  drop_na(PREMIUM, EXERCISE) %&gt;%\n  mutate(YEAR = substr(BAS_DD, 1, 4),\n         CNT=1,\n         NO=if_else(EXERCISE==0,1,0)) %&gt;%\n  group_by(YEAR) %&gt;%\n  summarise(Expiry = sum(CNT),\n            NoExercise = round(sum(NO)/sum(CNT),2),\n            Premium = round(mean(PREMIUM)/10000,0),\n            Interest = round(mean(INTEREST)/10000,0),\n            Loss = round(mean(EXERCISE)/10000,0),\n            Revenue = round(mean(REVENUE)/10000,0),\n            Return = round(prod(1 + RATE)-1,2),\n            .groups = \"drop\") %&gt;% \n  left_join(K200_portfolio %&gt;% group_by(YEAR) %&gt;% summarise(Return_K200=round(prod(RATE_K200)-1,2)),\n            by=\"YEAR\")\n\n# ìš”ì•½í‘œ 3 : í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± ë¹„êµ\nVol1 &lt;- graph1_1 %&gt;% group_by(YEAR) %&gt;% summarise(Vol=round(sd(RATE)*sqrt(12),2),\n                                                  Vol_K200=round(sd(RATE_K200)*sqrt(12),2))\nVol2 &lt;- graph1_2 %&gt;% group_by(YEAR) %&gt;% summarise(Vol=round(sd(RATE)*sqrt(12),2))\n\ntable3 &lt;- table1 %&gt;% \n  select(YEAR,Return,Return_K200) %&gt;% \n  left_join(Vol1, by=\"YEAR\") %&gt;% \n  mutate(Return_main=Return,\n         Vol_main=Vol) %&gt;% \n  select(YEAR, Return_main,Vol_main,Return_K200,Vol_K200) %&gt;% \n  left_join(table2 %&gt;% \n              select(YEAR,Return) %&gt;% \n              left_join(Vol2, by=\"YEAR\") %&gt;% \n              mutate(Return_sub=Return,\n                     Vol_sub=Vol) %&gt;% \n              select(YEAR,Return_sub,Vol_sub), by=\"YEAR\")\n\n\n\nR code 2 : ì „ëµ ê²€ì¦\n\nrm(list=ls())\nlibrary(tidyverse)\nlibrary(knitr)\nlibrary(patchwork)\nsetwd(\"homepage/study_25spring/data/\")\n\n# 1. ì›ë³¸ë°ì´í„° ì¤€ë¹„\noptions_raw &lt;- read_csv(\"options_data_test.csv\") %&gt;% tibble()\nidx_raw &lt;- read_csv(\"idx_data_test.csv\") %&gt;% tibble()\nmmf_raw &lt;- read_csv(\"mmf_test.csv\") %&gt;% tibble()\n\n# 2-1. ë°ì´í„° ì „ì²˜ë¦¬ : KRX openAPI ì˜µì…˜ë°ì´í„° ì „ì²˜ë¦¬\noptions &lt;- options_raw %&gt;% \n  # K200, WK200 ì´ì™¸ì˜ ì˜µì…˜ ì œì™¸\n  filter(substr(PROD_NM,1,3)==\"ì½”ìŠ¤í”¼\") %&gt;%\n  # ì¢…ê°€ê°€ ì—†ëŠ” ê²½ìš° ìµì¼ ê¸°ì¤€ê°€ê²©(ì´ë¡ ê°€ê²©) ì‚¬ìš©\n  mutate(PRICE = as.double(if_else(TDD_CLSPRC==\"-\",NXTDD_BAS_PRC,TDD_CLSPRC))) %&gt;% \n  drop_na(PRICE) %&gt;% \n  select(BAS_DD,ISU_NM,PRICE,ACC_TRDVOL) %&gt;% \n  separate(ISU_NM, into=c(\"PROD\",\"RGHT\",\"EXP\",\"EXER_PRC\"), sep=' ') %&gt;%\n  mutate(EXER_PRC=as.double(EXER_PRC),\n         EXPMM=if_else(PROD==\"ì½”ìŠ¤í”¼200\",substr(EXP,3,6),substr(EXP,1,4)),\n         EXPWW=if_else(PROD==\"ì½”ìŠ¤í”¼200\",2,as.integer(substr(EXP,6,6)))) %&gt;% \n  filter(EXER_PRC&gt;min(idx_raw$KOSPI200)*0.85,\n         EXER_PRC&lt;max(idx_raw$KOSPI200)*1.15,\n         PROD!=\"ì½”ìŠ¤í”¼ìœ„í´ë¦¬M\") %&gt;% # ì›”ìš”ì¼ ë§Œê¸° ìœ„í´ë¦¬ì˜µì…˜ ì œì™¸\n  mutate(PRIOR=as.integer(EXPMM)*10+EXPWW) # ë§Œê¸°ê°€ ì§§ì€ ìˆœìœ¼ë¡œ ìš°ì„ ìˆœìœ„ ë¶€ì—¬\n\n# 2-2. ë°ì´í„° ì „ì²˜ë¦¬ : ì˜µì…˜ ë§Œê¸°ì¼ ë°ì´í„° ìƒì„±\ntarget_date &lt;- options %&gt;% \n  distinct(.,BAS_DD, PRIOR) %&gt;% \n  arrange(PRIOR, desc(BAS_DD)) %&gt;% \n  group_by(PRIOR) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  distinct(BAS_DD) %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  filter(BAS_DD&lt;20250411)\n\n# 2-3. ë°ì´í„° ì „ì²˜ë¦¬ : KRX ì •ë³´ë°ì´í„°ì‹œìŠ¤í…œ K200 ë° V-K200ì§€ìˆ˜ ì „ì²˜ë¦¬\nidx_data &lt;- idx_raw %&gt;%\n  arrange(BAS_DD) %&gt;% \n  mutate(LAG_K200=lag(KOSPI200),\n         LAG_VK200=lag(VKOSPI200))\n\nK200_portfolio=idx_data %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  mutate(RATE=(KOSPI200-LAG_K200)/LAG_K200,\n         YEAR = substr(BAS_DD, 1, 4),\n         YM = ym(substr(BAS_DD, 1, 6))) %&gt;%\n  group_by(YEAR) %&gt;%\n  filter(is.na(RATE)==FALSE) %&gt;% \n  summarise(RATE_K200 = prod(1 + RATE),\n            MMF = mean(MMF)/100,\n            .groups = \"drop\") %&gt;%\n  ungroup()\n\n# 3-1. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± : VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ì´ˆì •ë³´ ìƒì„±\ntarget_info &lt;- target_date %&gt;% \n  left_join(options, by=\"BAS_DD\") %&gt;% \n  distinct(BAS_DD,PRIOR) %&gt;% \n  arrange(desc(BAS_DD),PRIOR) %&gt;% \n  group_by(BAS_DD) %&gt;% \n  # ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ì˜µì…˜ì„ ì œì™¸í•˜ê³  ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì˜µì…˜ ì„ íƒ\n  slice(2) %&gt;% \n  ungroup() %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  left_join(idx_data, by=\"BAS_DD\") %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ ë° ë‹¨ê¸°ê¸ˆë¦¬(MMF) ê³„ì‚°\n  mutate(DIFF_DAY=as.integer(ymd(lag(BAS_DD))-ymd(BAS_DD)),\n         MMF=MMF*0.01) %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ” ì‹œì¥ê¸°ëŒ€ë³€ë™ì„± ê³„ì‚°(V-K200í™œìš©)\n  mutate(VOL=LAG_VK200*sqrt(DIFF_DAY)/sqrt(365)/100) %&gt;%\n  # ë³€ë™ì„±ì— ë”°ë¥¸ ì˜µì…˜ í–‰ì‚¬ê°€ê²© ìƒë‹¨(2.5ë‹¨ìœ„ ì˜¬ë¦¼) ë° í•˜ë‹¨(2.5ë‹¨ìœ„ ë‚´ë¦¼) ê³„ì‚°\n  mutate(TARGET_C_K=ceiling(KOSPI200*(1+VOL)*0.4)/0.4,\n         TARGET_P_K=floor(KOSPI200*(1-VOL)*0.4)/0.4) %&gt;% \n  # drop_na(DIFF_DAY) %&gt;% \n  select(BAS_DD,VOL,DIFF_DAY,MMF,KOSPI200,LAG_VK200,PRIOR,TARGET_C_K,TARGET_P_K)\n\n# 3-2. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± : VWì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê±°ë˜ëŒ€ìƒ ì˜µì…˜ ì •ë³´ ìƒì„±\ntarget_options &lt;- target_info %&gt;% \n  select(BAS_DD, PRIOR, TARGET_C_K, TARGET_P_K) %&gt;% \n  pivot_longer(cols=c(\"TARGET_C_K\",\"TARGET_P_K\"),names_to = \"GRP\", values_to = \"EXER_PRC\") %&gt;% \n  mutate(RGHT=substr(GRP,8,8)) %&gt;% \n  left_join(options,by=c(\"BAS_DD\",\"PRIOR\",\"RGHT\",\"EXER_PRC\")) %&gt;%\n  select(BAS_DD,GRP,PRICE,ACC_TRDVOL) %&gt;% \n  pivot_wider(names_from = \"GRP\", values_from = c(\"PRICE\",\"ACC_TRDVOL\"))\n\n# ì›ê¸ˆ 100ì–µì› ê°€ì •\ncash = 10000*10000*100\n\n# 4. í¬íŠ¸í´ë¦¬ì˜¤ êµ¬í˜„ : VWì–‘ë§¤ë„ ì „ëµì„ êµ¬í˜„í•˜ì—¬ ì¼ìë³„ ì†ìµ ê³„ì‚°\nportfolio &lt;- target_info %&gt;% \n  left_join(target_options,by=\"BAS_DD\") %&gt;% \n  arrange(BAS_DD) %&gt;% \n  # ì›ê¸ˆì— ë”°ë¥¸ ì˜µì…˜ ë§¤ë„ìˆ˜ëŸ‰ ê³„ì‚°\n  mutate(SELL_AMT=cash/250000/KOSPI200) %&gt;% \n  # ì˜µì…˜ í”„ë¦¬ë¯¸ì—„(ë§¤ë„ìˆ˜ìµ)) ê³„ì‚°\n  mutate(PREMIUM=SELL_AMT*(PRICE_TARGET_C_K+PRICE_TARGET_P_K)*250000) %&gt;% \n  # ì›ê¸ˆ ë° í”„ë¦¬ë¯¸ì—„ì˜ MMF ì´ììˆ˜ìµ ë° ê¶Œë¦¬í–‰ì‚¬ì†ì‹¤ ê³„ì‚°\n  mutate(INTEREST=(cash+replace_na(PREMIUM,0))*MMF*DIFF_DAY/365,\n         EXERCISE=(if_else(lead(KOSPI200)-TARGET_C_K&gt;0,lead(KOSPI200)-TARGET_C_K,0)+\n                     if_else(TARGET_P_K-lead(KOSPI200)&gt;0,TARGET_P_K-lead(KOSPI200),0))*250000*SELL_AMT) %&gt;% \n  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ì†ìµ ê³„ì‚°(ì›ê¸ˆ 100ì–µ ê°€ì •, ë‹¹ì¼ íˆ¬ìì‹œ ë‹¤ìŒì£¼ ì‹¤í˜„ì†ìµì„ ì˜ë¯¸)\n  mutate(REVENUE=PREMIUM+INTEREST-EXERCISE) %&gt;% \n  # ê±°ë˜ëŒ€ìƒ ì˜µì…˜ì´ ìƒì¥ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš°, MMFìˆ˜ìµë§Œ ê³ ë ¤\n  mutate(REVENUE=if_else(is.na(REVENUE),INTEREST,REVENUE)) %&gt;% \n  mutate(RATE=REVENUE/cash,\n         Group=\"Vol-adj. Weekly\")  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ \n\n# 5. ë¹„êµêµ° í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± : ì›”ë³„ 5% OTM ì–‘ë§¤ë„ ì „ëµ\noptions2 &lt;- options %&gt;% \n  filter(PROD==\"ì½”ìŠ¤í”¼200\")\n\n# ì˜µì…˜ ë§Œê¸°ì¼(ë§¤ë‹¬) ìƒì„±\ntarget_date2 &lt;- options2 %&gt;% \n  distinct(.,BAS_DD, PRIOR) %&gt;% \n  arrange(PRIOR, desc(BAS_DD)) %&gt;% \n  group_by(PRIOR) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  distinct(BAS_DD) %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  filter(BAS_DD&lt;20250411)\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë³¸ ì •ë³´ ìƒì„±\ntarget_info2 &lt;- target_date2 %&gt;% \n  left_join(options2, by=\"BAS_DD\") %&gt;% \n  distinct(BAS_DD,PRIOR) %&gt;% \n  arrange(desc(BAS_DD),PRIOR) %&gt;% \n  group_by(BAS_DD) %&gt;% \n  # ë§Œê¸°ê°€ ë„ë˜í•˜ëŠ” ì˜µì…˜ì„ ì œì™¸í•˜ê³  ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì˜µì…˜ ì„ íƒ\n  slice(2) %&gt;% \n  ungroup() %&gt;% \n  arrange(desc(BAS_DD)) %&gt;% \n  left_join(idx_data, by=\"BAS_DD\") %&gt;% \n  left_join(mmf_raw, by=\"BAS_DD\") %&gt;% \n  # ì˜µì…˜ ë³´ìœ ê¸°ê°„ ë° ë‹¨ê¸°ê¸ˆë¦¬(MMF) ê³„ì‚°\n  mutate(DIFF_DAY=as.integer(ymd(lag(BAS_DD))-ymd(BAS_DD)),\n         MMF=MMF*0.01,\n         VOL=0.05) %&gt;%\n  # ë³€ë™ì„±ì— ë”°ë¥¸ ì˜µì…˜ í–‰ì‚¬ê°€ê²© ìƒë‹¨(2.5ë‹¨ìœ„ ì˜¬ë¦¼) ë° í•˜ë‹¨(2.5ë‹¨ìœ„ ë‚´ë¦¼) ê³„ì‚°\n  mutate(TARGET_C_K=ceiling(KOSPI200*(1+VOL)*0.4)/0.4,\n         TARGET_P_K=floor(KOSPI200*(1-VOL)*0.4)/0.4) %&gt;% \n  mutate(DIFF_DAY=if_else(is.na(DIFF_DAY),28,DIFF_DAY)) %&gt;% \n  select(BAS_DD,VOL,DIFF_DAY,MMF,KOSPI200,LAG_VK200,PRIOR,TARGET_C_K,TARGET_P_K)\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ ê±°ë˜ëŒ€ìƒ ì˜µì…˜\ntarget_options2 &lt;- target_info2 %&gt;% \n  select(BAS_DD, PRIOR, TARGET_C_K, TARGET_P_K) %&gt;% \n  pivot_longer(cols=c(\"TARGET_C_K\",\"TARGET_P_K\"),names_to = \"GRP\", values_to = \"EXER_PRC\") %&gt;% \n  mutate(RGHT=substr(GRP,8,8)) %&gt;% \n  left_join(options2,by=c(\"BAS_DD\",\"PRIOR\",\"RGHT\",\"EXER_PRC\")) %&gt;%\n  select(BAS_DD,GRP,PRICE,ACC_TRDVOL) %&gt;% \n  pivot_wider(names_from = \"GRP\", values_from = c(\"PRICE\",\"ACC_TRDVOL\"))\n\n# ì¼ë°˜ ì–‘ë§¤ë„ í¬íŠ¸í´ë¦¬ì˜¤ êµ¬í˜„\nportfolio2 &lt;- target_info2 %&gt;% \n  left_join(target_options2,by=\"BAS_DD\") %&gt;% \n  arrange(BAS_DD) %&gt;% \n  # ì›ê¸ˆì— ë”°ë¥¸ ì˜µì…˜ ë§¤ë„ìˆ˜ëŸ‰ ê³„ì‚°\n  mutate(SELL_AMT=cash/250000/KOSPI200) %&gt;% \n  # ì˜µì…˜ í”„ë¦¬ë¯¸ì—„(ë§¤ë„ìˆ˜ìµ)) ê³„ì‚°\n  mutate(PREMIUM=SELL_AMT*(PRICE_TARGET_C_K+PRICE_TARGET_P_K)*250000) %&gt;% \n  # ì›ê¸ˆ ë° í”„ë¦¬ë¯¸ì—„ì˜ MMF ì´ììˆ˜ìµ ë° ê¶Œë¦¬í–‰ì‚¬ì†ì‹¤ ê³„ì‚°\n  mutate(INTEREST=(cash+replace_na(PREMIUM,0))*MMF*DIFF_DAY/365,\n         EXERCISE=(if_else(lead(KOSPI200)-TARGET_C_K&gt;0,lead(KOSPI200)-TARGET_C_K,0)+\n                     if_else(TARGET_P_K-lead(KOSPI200)&gt;0,TARGET_P_K-lead(KOSPI200),0))*250000*SELL_AMT) %&gt;% \n  mutate(EXERCISE=if_else(is.na(EXERCISE),0,EXERCISE)) %&gt;% \n  # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ì†ìµ ê³„ì‚°(ì›ê¸ˆ 100ì–µ ê°€ì •, ë‹¹ì¼ íˆ¬ìì‹œ ë‹¤ìŒì£¼ ì‹¤í˜„ì†ìµì„ ì˜ë¯¸)\n  mutate(REVENUE=PREMIUM+INTEREST-EXERCISE) %&gt;% \n  # ê±°ë˜ëŒ€ìƒ ì˜µì…˜ì´ ìƒì¥ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš°, MMFìˆ˜ìµë§Œ ê³ ë ¤\n  mutate(REVENUE=if_else(is.na(REVENUE),INTEREST,REVENUE)) %&gt;% \n  mutate(RATE=REVENUE/cash,\n         Group=\"Monthly\") # ì£¼ë‹¨ìœ„ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ \n\nportfolio &lt;- portfolio %&gt;% filter(BAS_DD!=20250410)\nportfolio2 &lt;- portfolio2 %&gt;% filter(BAS_DD!=20250410)\nportfolio3 &lt;- portfolio %&gt;% \n  summarise(across(where(is.numeric), sum)) %&gt;% \n  mutate(Group=\"Vol-adj. Weekly Sum\")\n  \n\n# ìš”ì•½í‘œ 4 : ê²€ì¦ ìë£Œ\ntable4 &lt;- portfolio %&gt;%\n  union_all(portfolio2) %&gt;%\n  union_all(portfolio3) %&gt;% \n  group_by(BAS_DD, Group) %&gt;%\n  summarise(Premium = round(mean(PREMIUM)/10000,0),\n            Interest = round(mean(INTEREST)/10000,0),\n            Loss = round(mean(EXERCISE)/10000,0),\n            Revenue = round(mean(REVENUE)/10000,0),\n            Return = round(prod(1 + RATE)-1,2),\n            .groups = \"drop\")\n\n# ê·¸ë˜í”„ 4 : ê²€ì¦ê¸°ê°„ì¤‘ ì½”ìŠ¤í”¼200ì§€ìˆ˜ ì¶”ì´\ngraph4 &lt;- ggplot(idx_raw, aes(x = ymd(BAS_DD))) +\n  geom_line(aes(y = KOSPI200, color = \"KOSPI200\"), size = 1.2) +\n  geom_line(aes(y = (VKOSPI200 - 19) / 26 * 60 + 300, color = \"VKOSPI200\"), size = 1.2) +\n  geom_vline(xintercept = ymd(c(\"20250313\", \"20250320\", \"20250327\", \"20250403\",\"20250410\")),\n             linetype = \"dotted\", color = \"grey40\") +\n  scale_y_continuous(name = \"KOSPI200\",limits = c(300, 360),\n                     sec.axis = sec_axis(\n                       ~ (.-300) / 60 * 26 + 19, name = \"VKOSPI200\")) +\n  scale_color_manual(values = c(\"KOSPI200\" = \"blue\", \"VKOSPI200\" = \"red\"),\n                     guide = guide_legend(direction = \"horizontal\")) +\n  labs(title = \"Kospi200 & V-Kospi200 indices\",x = NULL,color = NULL) +\n  theme_minimal() +\n  scale_x_date(date_breaks = \"3 days\", date_labels = \"%m-%d\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = c(0.5, 0.95))",
    "crumbs": [
      "ì‚¬ë¡€ë¡œ ë³´ëŠ” ê¸ˆìœµê³µí•™('25 ë´„)",
      "ì½”ìŠ¤í”¼200 ë³€ë™ì„± ì¡°ì • ìœ„í´ë¦¬ ì–‘ë§¤ë„ ì „ëµ"
    ]
  },
  {
    "objectID": "ê¸ˆìœµìœ¤ë¦¬1.html",
    "href": "ê¸ˆìœµìœ¤ë¦¬1.html",
    "title": "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„",
    "section": "",
    "text": "Standard 1 : Professionalism",
    "crumbs": [
      "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„('25 ë´„)",
      "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„"
    ]
  },
  {
    "objectID": "ê¸ˆìœµìœ¤ë¦¬1.html#standard-1-professionalism",
    "href": "ê¸ˆìœµìœ¤ë¦¬1.html#standard-1-professionalism",
    "title": "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„",
    "section": "",
    "text": "A. ë²•ê·œì˜ ì´í•´ì™€ ì¤€ìˆ˜ (Knowledge of the Law)\n\n\nAssignment 1\n\n\n\n\n\nC. ì˜¤í•´ì˜ ì†Œì§€ê°€ ìˆëŠ” í‘œí˜„ ê¸ˆì§€ (Misrepresentation)\n\n\nAssignment 1",
    "crumbs": [
      "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„('25 ë´„)",
      "ê¸ˆìœµìœ¤ë¦¬ì™€ ì‚¬íšŒì±…ì„"
    ]
  },
  {
    "objectID": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html",
    "href": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html",
    "title": "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ",
    "section": "",
    "text": "í‰ê°€ ìƒí’ˆ ê°œìš”\nì´ë²ˆ ê³¼ì œì—ì„œ í‰ê°€í•´ë³¼ ì¥ì™¸íŒŒìƒìƒí’ˆì€ S&P500 ê¸°ë°˜ì˜ ELBì…ë‹ˆë‹¤.\nLong put + 20% Knock-out í˜•íƒœë¡œ, ì›ê¸ˆë³´ì¥í˜• payoffë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\nì„¸ë¶€ ì‚¬í•­ì€ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ìŠµë‹ˆë‹¤.\nì´ëŠ” ë°°ë¦¬ì–´ì˜µì…˜ì˜ í•œ ì¢…ë¥˜ë¡œ, ë§Œê¸°ê¹Œì§€ í•œë²ˆì´ë¼ë„ ë°°ë¦¬ì–´(20%) ë°‘ìœ¼ë¡œ í•˜ë½í•˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•˜ë©´ ì˜µì…˜ ê¶Œë¦¬ê°€ ì‚¬ë¼ì§€ê³ (Down-and-Out), ëŒ€ì‹  6%ì˜ rebateë¥¼ ì§€ê¸‰í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.",
    "crumbs": [
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆ ì‹¤ë¬´('25 ë´„)",
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ"
    ]
  },
  {
    "objectID": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#mcsë¥¼-ì´ìš©í•œ-í‰ê°€",
    "href": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#mcsë¥¼-ì´ìš©í•œ-í‰ê°€",
    "title": "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ",
    "section": "MCSë¥¼ ì´ìš©í•œ í‰ê°€",
    "text": "MCSë¥¼ ì´ìš©í•œ í‰ê°€\ní‰ê°€ ìƒí’ˆì„ ìµœì´ˆê¸°ì¤€ê°€ê²©í‰ê°€ì¼(â€™25.3.19)ì„ ê¸°ì¤€ìœ¼ë¡œ pricingí•  ì˜ˆì •ì´ë©°, ë°°ë¦¬ì–´ì˜µì…˜ í‰ê°€ parameterëŠ” ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\\(S_0\\) : S&P500ì§€ìˆ˜ì˜ â€™25.3.19ì¼ ì¢…ê°€ (5,675.29pt)\n\\(K\\) : Down-and-out put options í–‰ì‚¬ê°€ê²©(=\\(S_0\\times 100\\%\\))\n\\(B\\) : Down-and-out put options ë°°ë¦¬ì–´ê°€ê²©(=\\(S_0\\times 80\\%\\))\n\\(r\\) : ë¬´ìœ„í—˜ì´ììœ¨(=1year Term-SOFR, 4.08507%)\n\\(d\\) : S&P500 ë°°ë‹¹ìˆ˜ìµë¥ (24ë…„ë§ ê¸°ì¤€, 1.27%)\n\\(T_1\\) : ì”ì¡´ë§Œê¸°(=1)\n\\(T_2\\) : ë°°ë¦¬ì–´ì˜µì…˜ í‰ê°€ëŒ€ìƒë§Œê¸°(=\\(248/251\\))\n\\(n\\) : ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì‹œí–‰íšŸìˆ˜\n\\(m\\) : ì‹œë®¬ë ˆì´ì…˜ ê²½ë¡œ ë¶„í•  ê°¯ìˆ˜(ì¼ë³„, 248)\n\n\n\n\n\n\n\níŒŒë¼ë¯¸í„° ê²°ì • ê·¼ê±°\n\n\n\nìƒí’ˆ ê°œìš”ì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì •ë³´ë¡œ \\(S_0,K,B,T_1\\) ê²°ì •ì´ ê°€ëŠ¥í•˜ë©°,\n- ë¬´ìœ„í—˜ì´ììœ¨ : ë¯¸êµ­ì—ì„œëŠ” SOFR, USD-libor, FFR ë“±ì´ ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤. ë³¸ ë¶„ì„ì—ì„œëŠ” 1ë…„ ë§Œê¸°ì˜ ê¸°ê°„êµ¬ì¡°ë¥¼ ë°˜ì˜í•˜ê¸°ìœ„í•´ CME SOFR ì„ ë¬¼ì„ í™œìš©í•˜ì—¬ ìƒì„±í•œ 1year term SOFRë¥¼ ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤.\n- S&P500 ë°°ë‹¹ìˆ˜ìµë¥  : í˜„ê¸ˆë°°ë‹¹ì„ ì—°í™˜ì‚°í•œ ê°’ì„ ì‚¬ìš©í•˜ì˜€ìœ¼ë©°, ê³¼ê±° ë°°ë‹¹ì´ ìœ ì§€ëœë‹¤ëŠ” ê°€ì • í•˜ì— '24ë…„ê°’ì„ ì±„íƒí•˜ì˜€ìŠµë‹ˆë‹¤.\n- í‰ê°€ëŒ€ìƒë§Œê¸° : ëª…ëª© ë§Œê¸°ëŠ” 1ë…„ì´ë‚˜, ë§Œê¸°í‰ê°€ì¼ì— ì˜µì…˜ payoffê°€ ê²°ì •ë˜ë¯€ë¡œ, 3ê±°ë˜ì¼ì„ ì°¨ê°í•œ ê°’ì„ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\n- ê²½ë¡œ ë¶„í•  ê°¯ìˆ˜ : Lookback periodì˜ ê°„ê²©ì´ 1ì¼ì´ë¯€ë¡œ ê±°ë˜ì¼ìˆ˜ë¡œ ë¶„í• í•˜ì˜€ìŠµë‹ˆë‹¤.\nê±°ë˜ì¼ì€ NYSEë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì¶œí•˜ì˜€ìŠµë‹ˆë‹¤.\n\nimport pandas_market_calendars as mcal\n\nstrt = '2025-03-20'; end='2026-03-16'; exp='2026-03-19'\nnyse = mcal.get_calendar('NYSE')\ntrd = nyse.valid_days(start_date=strt, end_date=end)\nexp = nyse.valid_days(start_date=strt, end_date=exp)\nprint(len(trd),len(exp))\n\n248 251",
    "crumbs": [
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆ ì‹¤ë¬´('25 ë´„)",
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ"
    ]
  },
  {
    "objectID": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#í‰ê°€",
    "href": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#í‰ê°€",
    "title": "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ",
    "section": "í‰ê°€",
    "text": "í‰ê°€\n\ní‰ê°€ ê°œìš”\ní‰ê°€ëŠ” ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ì„ ì´ìš©í•  ê³„íšì´ë©°, Numerix pricerì™€ ë™ì¼í•œ 2025-4-29ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ pricingí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\në°°ë¦¬ì–´ì˜µì…˜ í‰ê°€ë¥¼ ìœ„í•œ parameterëŠ” ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n\\(S_0\\) : S&P500ì§€ìˆ˜ì˜ ìµœì´ˆê¸°ì¤€ê°€ê²©í‰ê°€ì¼(â€™25.3.19) ì¢…ê°€ (5,675.29pt)\n\\(S_1\\) : S&P500ì§€ìˆ˜ì˜ í‰ê°€ì¼(â€™25.4.29) ì¢…ê°€ (5,560.83pt)\n\\(K\\) : Down-and-out put options í–‰ì‚¬ê°€ê²©(=\\(S_0\\times 100\\%\\))\n\\(B\\) : Down-and-out put options ë°°ë¦¬ì–´ê°€ê²©(=\\(S_0\\times 80\\%\\))\n\\(r\\) : ë¬´ìœ„í—˜ì´ììœ¨(=3% ê°€ì •)\n\\(q\\) : S&P500 ë°°ë‹¹ìˆ˜ìµë¥ (=0% ê°€ì •ì •)\n\\(\\sigma\\) : ê¸°ì´ˆìì‚° ë³€ë™ì„±(=20% ê°€ì •)\n\\(T_1\\) : ì”ì¡´ë§Œê¸°(=324/365)\n\\(T_2\\) : ë°°ë¦¬ì–´ì˜µì…˜ í‰ê°€ëŒ€ìƒë§Œê¸°(=321/365)\n\\(n\\) : ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì‹œí–‰íšŸìˆ˜\n\\(m\\) : ì‹œë®¬ë ˆì´ì…˜ ê²½ë¡œ ë¶„í•  ê°¯ìˆ˜(ê±°ë˜ì¼ë³„, 220)\n\\(rebate\\) : ë°°ë¦¬ì–´ì˜µì…˜ Knock-out ì‹œ ì§€ê¸‰í•˜ëŠ” ì¿ í°(=6%)\n\n\n\n\n\n\n\níŒŒë¼ë¯¸í„° ê²°ì • ê·¼ê±°\n\n\n\nìƒí’ˆ í‰ê°€ë¥¼ ìœ„í•œ íŒŒë¼ë¯¸í„°ì˜ ì‚°ì • ê·¼ê±°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n- ê¸°ì´ˆìì‚°ê°€ê²©, í–‰ì‚¬ê°€ê²©, ë°°ë¦¬ì–´ê°€ê²©, ë§Œê¸° ë“± : ìƒí’ˆ ê°œìš”ì—ì„œ í™•ì¸\n\n- ë¬´ìœ„í—˜ì´ììœ¨ : ë¯¸êµ­ì—ì„œëŠ” SOFR, USD-libor, FFR ë“±ì´ ë„ë¦¬ ì‚¬ìš©ë˜ë©°, Swap rate ë“±ì„ í™œìš©í•´ term-structureë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì •ë°€í•œ ë°©ë²•ì…ë‹ˆë‹¤. ë¶„ì„ì˜ ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ **3%ë¥¼ ê°€ì •**í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n- S&P500 ë°°ë‹¹ìˆ˜ìµë¥  : ê³¼ê±° ë°°ë‹¹ì´ ìœ ì§€ëœë‹¤ê³  ê°€ì •í•˜ê±°ë‚˜, ë³„ë„ì˜ ëª¨ë¸ë§ì„ í†µí•´ ê¸°ê°„êµ¬ì¡°ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì •ë°€í•œ ë°©ë²•ì…ë‹ˆë‹¤. ë¶„ì„ì˜ ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ **ë°°ë‹¹ì´ ì—†ë‹¤ê³  ê°€ì •**í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n- í‰ê°€ëŒ€ìƒë§Œê¸° : ëª…ëª© ë§Œê¸°ëŠ” 1ë…„ì´ë‚˜, ë§Œê¸°í‰ê°€ì¼ì— ì˜µì…˜ payoffê°€ ê²°ì •ë˜ë¯€ë¡œ, 3ê±°ë˜ì¼ì„ ì°¨ê°í•œ ê°’ì„ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n- ê¸°ì´ˆìì‚° ë³€ë™ì„± : ì‹œì¥ê°€ê²©ì„ í™œìš©í•œ ë‚´ì¬ë³€ë™ì„±ì„ ì´ìš©í•˜ì˜€ìœ¼ë©°, Local Vol ë“±ì„ í†µí•´ Surfaceë¥¼ êµ¬ì„±í•˜ì—¬ ì‹œë®¬ë ˆì´ì…˜ í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì •ë°€í•œ ë°©ë²•ì…ë‹ˆë‹¤. ë‹¤ë§Œ, ë¶„ì„ì˜ ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ **20%ë¥¼ ê°€ì •**í•˜ì˜€ìŠµë‹ˆë‹¤.\n- ê²½ë¡œ ë¶„í•  ê°¯ìˆ˜ : Lookback periodì˜ ê°„ê²©ì´ 1ì¼ì´ë¯€ë¡œ ê±°ë˜ì¼ìˆ˜ë¡œ ë¶„í• í•˜ì˜€ìŠµë‹ˆë‹¤.\nê±°ë˜ì¼ì€ NYSEë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì¶œí•˜ì˜€ê³ , ë°ì´í„°ëŠ” yahoo finance, cme, cboeë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤.\n\nimport pandas_market_calendars as mcal\nfrom datetime import date\n\nexp = date(2026, 3, 19)\nstrt = date(2025, 4, 29)\nexptime = (exp - strt).days\n\nstrt = '2025-04-30'; end='2026-03-16';\nnyse = mcal.get_calendar('NYSE')\ntimesteps = nyse.valid_days(start_date=strt, end_date=end)\n\nprint(exptime, len(timesteps))\n\n324 220\n\n\n\n\n\n\ní‰ê°€ ì•Œê³ ë¦¬ì¦˜\nê¸°ì´ˆìì‚°ì¸ S&P500 ì§€ìˆ˜ê°€ GBMì„ ë”°ë¥¸ë‹¤ëŠ” ê°€ì • í•˜ì— ì •ê·œë‚œìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë§Œê¸°í‰ê°€ì¼ê¹Œì§€ì˜ ì£¼ê°€íë¦„ì„ ì‹œë®¬ë ˆì´ì…˜í•  ê³„íšì´ë©°, ì•Œê³ ë¦¬ì¦˜ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\ní˜„ì¬ ì£¼ê°€(\\(S_0\\))ì™€ ë§Œê¸°(\\(T_2\\)), ë³€ë™ì„±(\\(\\sigma\\)), ê¸°ëŒ€ìˆ˜ìµë¥ (\\(\\mu=r-d\\))ë¥¼ í†µí•´ GBMì„ êµ¬ì„±í•˜ê³ , Eulerâ€™s discretizationì„ í†µí•´ 248ê±°ë˜ì¼ë§ˆë‹¤ ì¢…ê°€ë¥¼ ìƒì„±\n\në¨¼ì €, í‰ê°€ëŒ€ìƒë§Œê¸°ì¼ì˜ ì¢…ê°€ë¥¼ nê°œ ìƒì„±(Stratified sampling, Moment matching, Antithetic variateë¥¼ í™œìš©í•˜ì—¬ ê· ì§ˆí•œ ë¶„í¬ë¥¼ êµ¬í˜„)\nê° nê°œì˜ ì¢…ê°€ë§ˆë‹¤, ê·¸ ê²½ë¡œì˜ 247(ì´ (m-1)*n)ê°œì˜ ë‚œìˆ˜ë¥¼ ìƒì„±(Antithetic variate ì ìš©)í•˜ê³ , brownian bridge ë°©ë²•ì„ í†µí•´ ì˜¤ì¼ëŸ¬ ì´ì‚°í™”ë¥¼ êµ¬í˜„\n\nê° ê²½ë¡œë§ˆë‹¤ Knock ì—¬ë¶€ì™€ ë‚´ì¬ê°€ì¹˜ë¥¼ ê³ ë ¤í•˜ì—¬ ë°°ë¦¬ì–´ì˜µì…˜ì˜ payoffì™€ npvë¥¼ ê²°ì •\n\nKnock-out ë°œìƒ : ëª…ëª©ê¸ˆì•¡ì˜ 6%ì˜ rebateë¥¼ ì§€ê¸‰ë°›ìŒ\nKnock-out ë¯¸ë°œìƒ : í‰ê°€ë§Œê¸°ì¼ ì¢…ê°€ì— ë”°ë¼ í’‹ì˜µì…˜ ë‚´ì¬ê°€ì¹˜ë¥¼ ì§€ê¸‰ë°›ìŒ\nê° payoffë¥¼ ì”ì¡´ë§Œê¸°(\\(T_1\\))ì— ëŒ€í•´ í• ì¸í•˜ì—¬ npvë¥¼ ì‚°ì¶œ\n\nì´ì— ë”°ë¼ ì‚°ì¶œëœ npvë¥¼ ì‚°ìˆ í‰ê· ì„ í†µí•´ ë°°ë¦¬ì–´ì˜µì…˜(ELB)ì˜ ê³µì •ê°€ì¹˜ë¥¼ ì‚°ì¶œ\n\n\n\nì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ (Python code)\nì•Œê³ ë¦¬ì¦˜ì„ Python ì½”ë“œë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, Down-out Put option ê°€ê²©ê³¼ GBMì„ í™œìš©í•œ ê¸°ì´ˆìì‚°ì˜ ê²½ë¡œë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\n\nimport numpy as np\nimport scipy.stats as sst\n\ndef DownAndOutPut_Price(s, k, r, q, t, sigma, n, b, m, rebate):\n    # Set parameters\n    dt = t/m\n    dts = np.arange(dt, t+dt, dt)\n\n    # (1) Stratified sampling, z_t makes price at T & z makes brownian bridge\n    z_t = sst.norm.ppf((np.arange(n) + np.random.uniform(0,1,n)) / n)\n    z = np.random.randn(n,m)\n    # (2) Moment matching in z_t\n    z_t = np.where(n&gt;=100, (z_t - z_t.mean()) / z_t.std(ddof=1), z_t - z_t.mean())\n    # (3) Antithetic variate\n    z_t, z = np.concatenate([z_t, -z_t], axis=0), np.concatenate([z, -z], axis=0)\n\n    # Generate underlying paths using brownian bridge\n    w_t, w = z_t * np.sqrt(t), z.cumsum(axis=1) * np.sqrt(dt) # winner process\n    bridge = dts * ((w_t- w[:,-1]).reshape(len(w),1) + w / dts) # brownian bridge\n    paths = s*np.exp((r-q-0.5*sigma**2)*dts + sigma*bridge) # underlying price path\n    # Determine whether barrier touch or not (exists payoff or not)\n    knock = paths.min(axis=1) &lt; b # knock-out = 1 else 0\n    barrier_flag = ~knock\n\n    # Caculate options payoff\n    plain_npv = np.maximum(k-paths[:,-1], 0) * np.exp(-r*t)\n    barrier_npv = barrier_flag * plain_npv + knock * rebate * np.exp(-r*t)\n    barrier_price = barrier_npv.mean()\n\n    return barrier_price, paths",
    "crumbs": [
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆ ì‹¤ë¬´('25 ë´„)",
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ"
    ]
  },
  {
    "objectID": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#í‰ê°€-ê²°ê³¼-ë°-ë¹„êµnumerix-pricer",
    "href": "ì¥ì™¸íŒŒìƒ_ê³¼ì œ.html#í‰ê°€-ê²°ê³¼-ë°-ë¹„êµnumerix-pricer",
    "title": "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ",
    "section": "í‰ê°€ ê²°ê³¼ ë° ë¹„êµ(Numerix Pricer)",
    "text": "í‰ê°€ ê²°ê³¼ ë° ë¹„êµ(Numerix Pricer)\n\në°°ë¦¬ì–´ì˜µì…˜ ê°€ê²© ë° ê¸°ì´ˆìì‚° ê²½ë¡œ\nìƒìˆ í•œ 2025-4-29ì¼ì˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•˜ì—¬ ë°°ë¦¬ì–´ì˜µì…˜ì˜ ê°€ê²©ì„ í‰ê°€í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nê°€ê²©ì€ ëª…ëª©ê¸ˆì•¡ 10,000ì›ì„ ê¸°ì¤€ìœ¼ë¡œ ì•½ 365ì›ì´ë©°, ìˆ˜ìµë¥ ë¡œ í™˜ì‚°í•  ë•Œ ì•½ 3.65%ì…ë‹ˆë‹¤.\nì‹œë®¬ë ˆì´ì…˜ íšŸìˆ˜ëŠ” 10ë§Œë²ˆ ê¸°ì¤€ìœ¼ë¡œ, ë‚œìˆ˜ì— ë”°ë¼ í¸ì°¨ê°€ ì•½ 1~2ì› ì¡´ì¬í•˜ì˜€ìŠµë‹ˆë‹¤.\n\ns0 = 5675.29\ns1 = 5560.83\nk = s0\nr = 0.03\nq = 0\nb = 0.8 * s0\nt1 = exptime / 365\nt2 = (exptime-3) / 365\nsigma = 0.2\nn = 100000\nm = len(timesteps)\nrebate = 0.06 * s0\nnotional = 10000\nnxprice = 366.8977875\n\nprice, GBMpath = DownAndOutPut_Price(s1, k, r, q, t2, sigma, n, b, m, rebate)\nprice = price * np.exp(r*(t2-t1)) / s0 * notional\nprint(price)\n\n364.26567636897414\n\n\nì‹œë®¬ë ˆì´ì…˜ì— ì´ìš©ëœ ê¸°ì´ˆìì‚°ì˜ ê²½ë¡œë¥¼ ì‹œê°í™”í•œ ê²°ê³¼ì…ë‹ˆë‹¤.\nê³„ì¸µí™”, í‘œì¤€í™” ë“± ë¶„ì‚°ê°ì†Œê¸°ë²•ì´ ì˜ ì ìš©ë˜ì–´ ë§Œê¸°ì‹œì ì˜ Lognormal dist. í˜•íƒœê°€ ì˜ ë‚˜íƒ€ë‚œ ê²ƒì„ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ì‹œë®¬ë ˆì´ì…˜ ì¤‘ ë°°ë¦¬ì–´ê°€ê²© ë°‘ìœ¼ë¡œ í•˜ë½í•œ ê²½ìš°ê°€ ë°œìƒí•œ Knock-outì˜ ë¹„ìœ¨ì€ ì•½ 22.65%ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.\n\n\n\n\n\n\n\n\n\n\n\nNumerix Pricerì™€ ë¹„êµ\nìœ ì‚¬í•œ ì¡°ê±´ì˜ Numerix pricerë¥¼ ì´ìš©í•œ ë°°ë¦¬ì–´ì˜µì…˜ ê°€ê²©ì€ ì•½ 366.9ì›(3.67%)ë¡œ ì‚°ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.",
    "crumbs": [
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆ ì‹¤ë¬´('25 ë´„)",
      "ì¥ì™¸íŒŒìƒìƒí’ˆ ê¸°ì´ˆì‹¤ë¬´ ê³¼ì œ"
    ]
  }
]